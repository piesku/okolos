<!DOCTYPE html><meta charset=utf8><meta name=viewport content="width=device-width, user-scalable=0"><meta name=apple-mobile-web-app-capable content=yes><meta name=theme-color content=#000><title>GoodLuck (opt)</title><style>body,html{margin:0;overflow:hidden}canvas,main{height:100vh;overflow:hidden;position:absolute;touch-action:none;user-select:none;width:100vw;word-break:break-word}[onclick]{cursor:pointer}</style><canvas id=scene></canvas><canvas id=billboard></canvas><main></main><script>!function(){function t(t,i){let n=t.i.t();for(let e of i)e(t,n);return n}function i(t,i,e){let o=t.createProgram();if(t.attachShader(o,n(t,35633,i)),t.attachShader(o,n(t,35632,e)),t.linkProgram(o),!t.getProgramParameter(o,35714))throw Error(t.getProgramInfoLog(o));return o}function n(t,i,n){let e=t.createShader(i);if(t.shaderSource(e,n),t.compileShader(e),!t.getShaderParameter(e,35713))throw Error(t.getShaderInfoLog(e));return e}function e(t,i,n,e,o){return(t-i)/(n-i)*(o-e)+e}function o(t,i,n,e){return t[0]=i,t[1]=n,t[2]=e,t}function r(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t}function l(t,i,n){return t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function s(t,i,n){return t[0]=i[0]-n[0],t[1]=i[1]-n[1],t[2]=i[2]-n[2],t}function a(t,i,n){return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t}function c(t,i){return t[0]=-i[0],t[1]=-i[1],t[2]=-i[2],t}function u(t,i){let n=i[0],e=i[1],o=i[2],r=n*n+e*e+o*o;return r>0&&(r=1/Math.sqrt(r)),t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t}function f(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function h(t,i,n){let e=i[0],o=i[1],r=i[2],l=n[3]*e+n[7]*o+n[11]*r+n[15]||1;return t[0]=(n[0]*e+n[4]*o+n[8]*r+n[12])/l,t[1]=(n[1]*e+n[5]*o+n[9]*r+n[13])/l,t[2]=(n[2]*e+n[6]*o+n[10]*r+n[14])/l,t}function d(t,i,n){let e=i[0],o=i[1],r=i[2];return t[0]=n[0]*e+n[4]*o+n[8]*r,t[1]=n[1]*e+n[5]*o+n[9]*r,t[2]=n[2]*e+n[6]*o+n[10]*r,t}function m(t){return Math.hypot(t[0],t[1],t[2])}function v(t,i,n,e){let o=i[0],r=i[1],l=i[2];return t[0]=o+e*(n[0]-o),t[1]=r+e*(n[1]-r),t[2]=l+e*(n[2]-l),t}function _(t,i,n,e,o){return t[0]=i,t[1]=n,t[2]=e,t[3]=o,t}function p(t,i,n){let e=i[0],o=i[1],r=i[2],l=i[3],s=n[0],a=n[1],c=n[2],u=n[3];return t[0]=e*u+l*s+o*c-r*a,t[1]=o*u+l*a+r*s-e*c,t[2]=r*u+l*c+e*a-o*s,t[3]=l*u-e*s-o*a-r*c,t}function g(t,i){return t[0]=-i[0],t[1]=-i[1],t[2]=-i[2],t[3]=i[3],t}function y(t,i,n,e){let o=Math.sin(i/2*Xt),r=Math.cos(i/2*Xt),l=Math.sin(n/2*Xt),s=Math.cos(n/2*Xt),a=Math.sin(e/2*Xt),c=Math.cos(e/2*Xt);return t[0]=o*s*c+r*l*a,t[1]=r*l*c-o*s*a,t[2]=r*s*a-o*l*c,t[3]=r*s*c+o*l*a,t}function w(t,i,n){let e=n/2;return t[0]=Math.sin(e)*i[0],t[1]=Math.sin(e)*i[1],t[2]=Math.sin(e)*i[2],t[3]=Math.cos(e),t}function M(t,i,n,e){let o,r,l,s,a,c=i[0],u=i[1],f=i[2],h=i[3],d=n[0],m=n[1],v=n[2],_=n[3];return r=c*d+u*m+f*v+h*_,r<0&&(r=-r,d=-d,m=-m,v=-v,_=-_),1-r>1e-6?(o=Math.acos(r),l=Math.sin(o),s=Math.sin((1-e)*o)/l,a=Math.sin(e*o)/l):(s=1-e,a=e),t[0]=s*c+a*d,t[1]=s*u+a*m,t[2]=s*f+a*v,t[3]=s*h+a*_,t}function T(t,i,n){let e=t.i.o[i],o=t.i.l[i];if(o.u){let t=o.h[o.u];t&&t!==o.m&&(0===o.m.v?o.m=t:1&o.m._&&(o.m.v=0,o.m=t)),o.u=void 0}let r=null,l=null;for(let t of o.m.p){if(o.m.v<t.g){l=t;break}r=t}if(r&&l){let t=(o.m.v-r.g)/(l.g-r.g);l.M&&(t=l.M(t)),r.T&&l.T&&(v(e.T,r.T,l.T,t),e.A=!0),r.F&&l.F&&(M(e.F,r.F,l.F,t),e.A=!0),r.R&&l.R&&(v(e.R,r.R,l.R,t),e.A=!0)}let s=o.m.v+n;if(s<o.m.k)o.m.v=s;else{if(o.m.v=0,4&o.m._)for(let t of o.m.p.reverse())t.g=o.m.k-t.g;2&o.m._||(o.m=o.h.idle)}}function b(t,i){let n=i[0],e=i[1],o=i[2],r=i[3],l=i[4],s=i[5],a=i[6],c=i[7],u=i[8],f=i[9],h=i[10],d=i[11],m=i[12],v=i[13],_=i[14],p=i[15],g=n*s-e*l,y=n*a-o*l,w=n*c-r*l,M=e*a-o*s,T=e*c-r*s,b=o*c-r*a,A=u*v-f*m,F=u*_-h*m,x=u*p-d*m,R=f*_-h*v,k=f*p-d*v,C=h*p-d*_,P=g*C-y*k+w*R+M*x-T*F+b*A;return P?(P=1/P,t[0]=(s*C-a*k+c*R)*P,t[1]=(o*k-e*C-r*R)*P,t[2]=(v*b-_*T+p*M)*P,t[3]=(h*T-f*b-d*M)*P,t[4]=(a*x-l*C-c*F)*P,t[5]=(n*C-o*x+r*F)*P,t[6]=(_*w-m*b-p*y)*P,t[7]=(u*b-h*w+d*y)*P,t[8]=(l*k-s*x+c*A)*P,t[9]=(e*x-n*k-r*A)*P,t[10]=(m*T-v*w+p*g)*P,t[11]=(f*w-u*T-d*g)*P,t[12]=(s*F-l*R-a*A)*P,t[13]=(n*R-e*F+o*A)*P,t[14]=(v*y-m*M-_*g)*P,t[15]=(u*M-f*y+h*g)*P,t):null}function A(t,i,n){let e=i[0],o=i[1],r=i[2],l=i[3],s=i[4],a=i[5],c=i[6],u=i[7],f=i[8],h=i[9],d=i[10],m=i[11],v=i[12],_=i[13],p=i[14],g=i[15],y=n[0],w=n[1],M=n[2],T=n[3];return t[0]=y*e+w*s+M*f+T*v,t[1]=y*o+w*a+M*h+T*_,t[2]=y*r+w*c+M*d+T*p,t[3]=y*l+w*u+M*m+T*g,y=n[4],w=n[5],M=n[6],T=n[7],t[4]=y*e+w*s+M*f+T*v,t[5]=y*o+w*a+M*h+T*_,t[6]=y*r+w*c+M*d+T*p,t[7]=y*l+w*u+M*m+T*g,y=n[8],w=n[9],M=n[10],T=n[11],t[8]=y*e+w*s+M*f+T*v,t[9]=y*o+w*a+M*h+T*_,t[10]=y*r+w*c+M*d+T*p,t[11]=y*l+w*u+M*m+T*g,y=n[12],w=n[13],M=n[14],T=n[15],t[12]=y*e+w*s+M*f+T*v,t[13]=y*o+w*a+M*h+T*_,t[14]=y*r+w*c+M*d+T*p,t[15]=y*l+w*u+M*m+T*g,t}function F(t,i,n,e){let o=i[0],r=i[1],l=i[2],s=i[3],a=o+o,c=r+r,u=l+l,f=o*a,h=o*c,d=o*u,m=r*c,v=r*u,_=l*u,p=s*a,g=s*c,y=s*u,w=e[0],M=e[1],T=e[2];return t[0]=(1-(m+_))*w,t[1]=(h+y)*w,t[2]=(d-g)*w,t[3]=0,t[4]=(h-y)*M,t[5]=(1-(f+_))*M,t[6]=(v+p)*M,t[7]=0,t[8]=(d+g)*T,t[9]=(v-p)*T,t[10]=(1-(f+m))*T,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function x(t,i){return t[0]=i[12],t[1]=i[13],t[2]=i[14],t}function R(t,i){let n=function(t,i){let n=i[4],e=i[5],o=i[6],r=i[8],l=i[9],s=i[10];return t[0]=Math.hypot(i[0],i[1],i[2]),t[1]=Math.hypot(n,e,o),t[2]=Math.hypot(r,l,s),t}([0,0,0],i),e=1/n[0],o=1/n[1],r=1/n[2],l=i[0]*e,s=i[1]*o,a=i[2]*r,c=i[4]*e,u=i[5]*o,f=i[6]*r,h=i[8]*e,d=i[9]*o,m=i[10]*r,v=l+u+m,_=0;return v>0?(_=2*Math.sqrt(v+1),t[3]=.25*_,t[0]=(f-d)/_,t[1]=(h-a)/_,t[2]=(s-c)/_):l>u&&l>m?(_=2*Math.sqrt(1+l-u-m),t[3]=(f-d)/_,t[0]=.25*_,t[1]=(s+c)/_,t[2]=(h+a)/_):u>m?(_=2*Math.sqrt(1+u-l-m),t[3]=(h-a)/_,t[0]=(s+c)/_,t[1]=.25*_,t[2]=(f+d)/_):(_=2*Math.sqrt(1+m-l-u),t[3]=(s-c)/_,t[0]=(h+a)/_,t[1]=(f+d)/_,t[2]=.25*_),t}function k(t,i){let n=t[12]-i[0],e=t[13]-i[1],o=t[14]-i[2];return n*n+e*e+o*o}function C(t,i,n){var e,o;t.C&&0===n.S.P&&(function(t,i,n,e,o){let r,l=1/Math.tan(i/2);t[0]=l/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(r=1/(e-o),t[10]=(o+e)*r,t[14]=2*o*e*r):(t[10]=-1,t[14]=-2*e)}((e=n.S).S,(o=t.I/t.K)>1?e.V:e.V/o,o,e.$,e.L),b(e.X,e.S));let r=t.i.o[i];!function(t,i){t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]}(n.W,r.B),A(n.D,n.S.S,n.W),x(n.H,r.i)}function P(t,i,n){let e=t.i.o[i],o=t.Y.getViewerPose(t.N);n.q=[];for(let t of o.views){let i={G:t,W:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],D:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],H:[0,0,0]};A(i.W,e.i,t.transform.matrix),x(i.H,i.W),b(i.W,i.W),A(i.D,t.projectionMatrix,i.W),n.q.push(i)}}function S(t,i){let n,e,o,r,l,s;x(i.U,t),n=r=i.U[0],e=l=i.U[1],o=s=i.U[2];let a=[0,0,0];for(let c=0;c<8;c++){let u=Wt[c];a[0]=u[0]*i.j[0],a[1]=u[1]*i.j[1],a[2]=u[2]*i.j[2],h(a,a,t),a[0]<n&&(n=a[0]),a[0]>r&&(r=a[0]),a[1]<e&&(e=a[1]),a[1]>l&&(l=a[1]),a[2]<o&&(o=a[2]),a[2]>s&&(s=a[2])}i.O=[n,e,o],i.J=[r,l,s],i.Z[0]=(r-n)/2,i.Z[1]=(l-e)/2,i.Z[2]=(s-o)/2}function I(t,i){let n=t.U[0]-i.U[0],e=t.Z[0]+i.Z[0]-Math.abs(n),o=t.U[1]-i.U[1],r=t.Z[1]+i.Z[1]-Math.abs(o),l=t.U[2]-i.U[2],s=t.Z[2]+i.Z[2]-Math.abs(l);return e<r&&e<s?[e*Math.sign(n),0,0]:r<s?[0,r*Math.sign(o),0]:[0,0,s*Math.sign(l)]}function K(t,i){return t.O[0]<i.J[0]&&t.J[0]>i.O[0]&&t.O[1]<i.J[1]&&t.J[1]>i.O[1]&&t.O[2]<i.J[2]&&t.J[2]>i.O[2]}function V(t,i,n){for(let e=0;e<n;e++){let n=i[e],o=t.tt&n.it,r=n.tt&t.it;if((o||r)&&K(t,n)){let i=I(t,n);o&&t.nt.push({et:n.ot,rt:i}),r&&n.nt.push({et:t.ot,rt:c([0,0,0],i)})}}}function $(...i){return(n,e)=>{let o=[];for(let e of i){let i=t(n,e);o.push(i)}n.i.lt[e]|=4,n.i.st[e]={st:o}}}function*L(t,i,n){if((t.lt[i]&n)===n&&(yield i),4&t.lt[i])for(let e of t.st[i].st)yield*L(t,e,n)}function X(t,i){let n=t.i.ct[i],e=t.i.ut[i];if(n.ft&&(e.ft=n.ft.slice()),n.F&&(e.ht=n.F.slice()),n.dt)for(let e of L(t.i,i,1))t.i.l[e].u=n.dt}function W(t,i){let n=t.i.o[i];if(0===t.i.vt[i].P){let e=t.i.ut[i],o=t.i.st[i].st[0],a=t.i.o[o],c=t.i.st[o],u=t.i.o[c.st[1]],f=t._t.left;if(null==f?void 0:f.gamepad){let t=f.gamepad.axes[2];if(t){let i=[t,0,0];d(i,i,u.i),d(i,i,n.B),i[1]=0,l(e.ft,e.ft,i)}let i=f.gamepad.axes[3];if(i){let t=[0,0,i];d(t,t,u.i),d(t,t,n.B),t[1]=0,l(e.ft,e.ft,t)}}if(m(e.ft)>0){let t=.03,i=5;a.T[1]=(Math.sin(i*n.T[0])+Math.sin(i*n.T[2]))*t,a.A=!0}let v=t._t.right;if(null==v?void 0:v.gamepad){let t=-v.gamepad.axes[2];if(t){let i=w([0,0,0,1],zt,t*Math.PI);p(e.ht,e.ht,i)}}let _=c.st[2],y=t.i.gt[_],M=c.st[3],T=t.i.gt[M];if(_&&(null==y?void 0:y.yt)){let e=t.i.o[_],o=t.i.wt[_];if(o.nt.length>0)if(Bt)x(Et,e.i),h(Et,Et,n.B),s(Ht,Dt,Et),r(Dt,Et),d(Ht,Ht,n.i),l(n.T,n.T,Ht),n.A=!0;else{Bt=!0,x(Dt,e.i),h(Dt,Dt,n.B);let r=o.nt[0].et,l=t.i.o[r],s=t.i.st[r];n.Mt&&t.i.st[n.Mt].st.pop(),s.st.push(i),n.Mt=r,x(n.T,n.i),h(n.T,n.T,l.B);let a=[0,0,0,1];R(a,l.i),g(a,a),R(n.F,n.i),p(n.F,a,n.F),n.A=!0}}else Bt&&(Bt=!1,t.i.st[n.Mt].st.pop(),n.Mt=void 0,x(n.T,n.i),R(n.F,n.i),n.A=!0);if(M&&(null==T?void 0:T.yt)){let e=t.i.o[M],o=t.i.wt[M];if(o.nt.length>0)if(Yt)x(qt,e.i),h(qt,qt,n.B),s(Gt,Nt,qt),r(Nt,qt),d(Gt,Gt,n.i),l(n.T,n.T,Gt),n.A=!0;else{Yt=!0,x(Nt,e.i),h(Nt,Nt,n.B);let r=o.nt[0].et,l=t.i.o[r],s=t.i.st[r];n.Mt&&t.i.st[n.Mt].st.pop(),s.st.push(i),n.Mt=r,x(n.T,n.i),h(n.T,n.T,l.B);let a=[0,0,0,1];R(a,l.i),g(a,a),R(n.F,n.i),p(n.F,a,n.F),n.A=!0}}else Yt&&(Yt=!1,t.i.st[n.Mt].st.pop(),n.Mt=void 0,x(n.T,n.i),R(n.F,n.i),n.A=!0);t.i.Tt[i].P=Bt||Yt?2:1}}function z(t,i){let n=t.i.o[i],o=t.i.gt[i],r=t.i.st[i];if(0===o.P){let i=t.Y.getViewerPose(t.N);return n.T[0]=i.transform.position.x,n.T[1]=i.transform.position.y,n.T[2]=i.transform.position.z,n.F[0]=i.transform.orientation.x,n.F[1]=i.transform.orientation.y,n.F[2]=i.transform.orientation.z,n.F[3]=i.transform.orientation.w,void(n.A=!0)}if(1!==o.P)if(2!==o.P);else{let i=t._t.right;if(i){let l=t.Y.getPose(i.gripSpace,t.N);if(l&&(o.bt=l,n.T[0]=l.transform.position.x,n.T[1]=l.transform.position.y,n.T[2]=l.transform.position.z,n.F[0]=l.transform.orientation.x,n.F[1]=l.transform.orientation.y,n.F[2]=l.transform.orientation.z,n.F[3]=l.transform.orientation.w,n.A=!0),i.gamepad){let n=i.gamepad.buttons[1];if(n){o.yt=n.pressed;let i=t.i.o[r.st[0]];i.R[2]=e(n.value,0,1,1,.5),w(i.F,Ut,n.value),i.A=!0}}}}else{let i=t._t.left;if(i){let l=t.Y.getPose(i.gripSpace,t.N);if(l&&(o.bt=l,n.T[0]=l.transform.position.x,n.T[1]=l.transform.position.y,n.T[2]=l.transform.position.z,n.F[0]=l.transform.orientation.x,n.F[1]=l.transform.orientation.y,n.F[2]=l.transform.orientation.z,n.F[3]=l.transform.orientation.w,n.A=!0),i.gamepad){let n=i.gamepad.buttons[1];if(n){o.yt=n.pressed;let i=t.i.o[r.st[0]];i.R[2]=e(n.value,0,1,1,.5),w(i.F,Ut,-n.value),i.A=!0}}}}}function B(t,i,n,e=0,o=[1,1,1,1],r=2304){return(l,s)=>{if(!jt.has(i)){let n=l.At.createVertexArray();l.At.bindVertexArray(n),l.At.bindBuffer(pt,i.Ft),l.At.enableVertexAttribArray(t.Rt.xt),l.At.vertexAttribPointer(t.Rt.xt,3,Tt,!1,0,0),l.At.bindBuffer(pt,i.kt),l.At.enableVertexAttribArray(t.Rt.Ct),l.At.vertexAttribPointer(t.Rt.Ct,3,Tt,!1,0,0),l.At.bindBuffer(gt,i.Pt),l.At.bindVertexArray(null),jt.set(i,n)}l.i.lt[s]|=512,l.i.St[s]={P:1,It:t,Kt:i,Vt:n[3]<1?1:0,$t:r,Lt:jt.get(i),Xt:n,Wt:o,zt:e}}}function D(t,i,n,e=2304){return(o,r)=>{let l=o.Bt,s=o.At.createVertexArray();o.At.bindVertexArray(s),o.At.bindBuffer(pt,t.Ft),o.At.enableVertexAttribArray(l.Rt.xt),o.At.vertexAttribPointer(l.Rt.xt,3,Tt,!1,0,0);let a=o.At.createBuffer();o.At.bindBuffer(pt,a),o.At.bufferData(pt,i,_t),o.At.enableVertexAttribArray(l.Rt.Dt),o.At.vertexAttribPointer(l.Rt.Dt,4,Tt,!1,64,0),o.At.vertexAttribDivisor(l.Rt.Dt,1),o.At.enableVertexAttribArray(l.Rt.Et),o.At.vertexAttribPointer(l.Rt.Et,4,Tt,!1,64,16),o.At.vertexAttribDivisor(l.Rt.Et,1),o.At.enableVertexAttribArray(l.Rt.Ht),o.At.vertexAttribPointer(l.Rt.Ht,4,Tt,!1,64,32),o.At.vertexAttribDivisor(l.Rt.Ht,1),o.At.enableVertexAttribArray(l.Rt.Yt),o.At.vertexAttribPointer(l.Rt.Yt,4,Tt,!1,64,48),o.At.vertexAttribDivisor(l.Rt.Yt,1);let c=o.At.createBuffer();o.At.bindBuffer(pt,c),o.At.bufferData(pt,n,_t),o.At.enableVertexAttribArray(l.Rt.Nt),o.At.vertexAttribPointer(l.Rt.Nt,3,Tt,!1,0,0),o.At.vertexAttribDivisor(l.Rt.Nt,1),o.At.bindBuffer(gt,t.Pt),o.At.bindVertexArray(null),o.i.lt[r]|=512,o.i.St[r]={P:8,It:l,Vt:0,Kt:t,Lt:s,qt:i.length/16,Gt:a,$t:e}}}function E(t=[0,0,0],i=[0,0,0,1],n=[1,1,1]){return(e,o)=>{e.i.lt[o]|=2048,e.i.o[o]={i:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],B:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T:t,F:i,R:n,A:!0}}}function H(t,i,n){let e=t.i.Ut[i];x(Ot,t.i.o[i].i),1===e.P&&u(Ot,Ot),t.jt[4*n+0]=Ot[0],t.jt[4*n+1]=Ot[1],t.jt[4*n+2]=Ot[2],t.jt[4*n+3]=e.P,t.Ot[4*n+0]=e.Jt[0],t.Ot[4*n+1]=e.Jt[1],t.Ot[4*n+2]=e.Jt[2],t.Ot[4*n+3]=e.Qt}function Y(t,i,n){let e=t.i.o[i],r=t.i.ut[i];if(0!==r.ft[0]||0!==r.ft[1]||0!==r.ft[2]){let i=Math.min(1,m(r.ft));d(r.ft,r.ft,e.i),void 0!==e.Mt&&d(r.ft,r.ft,t.i.o[e.Mt].B),u(r.ft,r.ft),a(r.ft,r.ft,i*r.Zt*n),l(e.T,e.T,r.ft),e.A=!0,o(r.ft,0,0,0)}1!==r.ht[3]&&(M(r.ht,Jt,r.ht,Math.min(1,r.ti/Math.PI*n)),p(e.F,r.ht,e.F),e.A=!0,_(r.ht,0,0,0,1)),1!==r.ii[3]&&(M(r.ii,Jt,r.ii,Math.min(1,r.ti/Math.PI*n)),p(e.F,e.F,r.ii),e.A=!0,_(r.ii,0,0,0,1))}function N(t,i,n){let e=t.i.o[i],s=t.i.Tt[i];if(1===s.P){r(s.ni,s.ei),a(s.oi,s.oi,n),l(s.ni,s.ni,s.oi),s.ni[1]+=-3.721*n;let t=[0,0,0];a(t,s.ni,n),l(e.T,e.T,t),e.A=!0,o(s.oi,0,0,0)}}function q(t,i,n){let e=t.i.Tt[i];x(Qt,t.i.o[i].i),2===e.P&&(s(Zt,Qt,e.ri),a(e.ni,Zt,1/n)),r(e.ri,Qt)}function G(t,i){let n=t.i.o[i],e=t.i.wt[i],o=t.i.Tt[i];if(1===o.P){o.li=!0;let i=!1;for(let s=0;s<e.nt.length;s++){let c=e.nt[s];if(1024&t.i.lt[c.et]){i=!0,l(n.T,n.T,c.rt),n.A=!0;let e=t.i.Tt[c.et];switch(e.P){case 0:u(ii,c.rt),a(ii,ii,-2*f(o.ni,ii)),l(o.ei,o.ni,ii);break;case 1:case 2:r(o.ei,e.ni)}a(o.ei,o.ei,o.si),c.rt[1]>0&&o.ei[1]<1&&(o.ei[1]=0,o.li=!1)}}i||r(o.ei,o.ni)}else 2===o.P&&r(o.ei,o.ni)}function U(t,i,n){let e=null,o=null,r=[];for(let l=0;l<t.i.lt.length;l++)if(2560==(2560&t.i.lt[l])){let s=t.i.St[l];if(1===s.Vt){r.push(l);continue}s.It!==e&&(e=s.It,j(t,s,i)),s.$t!==o&&(o=s.$t,t.At.frontFace(s.$t)),O(t,l,n)}r.sort(((n,e)=>{let o=t.i.o[n];return k(t.i.o[e].i,i.H)-k(o.i,i.H)})),t.At.enable(3042);for(let l=0;l<r.length;l++){let s=r[l],a=t.i.St[s];a.It!==e&&(e=a.It,j(t,a,i)),a.$t!==o&&(o=a.$t,t.At.frontFace(a.$t)),O(t,s,n)}t.At.disable(3042)}function j(t,i,n){switch(i.P){case 0:case 4:case 7:t.At.useProgram(i.It.ai),t.At.uniformMatrix4fv(i.It.Rt.D,!1,n.D);break;case 1:t.At.useProgram(i.It.ai),t.At.uniformMatrix4fv(i.It.Rt.D,!1,n.D),t.At.uniform3fv(i.It.Rt.ci,n.H),t.At.uniform4fv(i.It.Rt.jt,t.jt),t.At.uniform4fv(i.It.Rt.Ot,t.Ot),t.At.uniform4fv(i.It.Rt.ui,t.fi),t.At.uniform1f(i.It.Rt.hi,t.hi);break;case 5:case 6:t.At.useProgram(i.It.ai),t.At.uniformMatrix4fv(i.It.Rt.D,!1,n.D),t.At.uniform3fv(i.It.Rt.ci,n.H),t.At.uniform4fv(i.It.Rt.jt,t.jt),t.At.uniform4fv(i.It.Rt.Ot,t.Ot);break;case 8:t.At.useProgram(i.It.ai),t.At.uniformMatrix4fv(i.It.Rt.D,!1,n.D),t.At.uniform3fv(i.It.Rt.ci,n.H),t.At.uniform4fv(i.It.Rt.ui,t.fi),t.At.uniform1f(i.It.Rt.hi,t.hi)}}function O(t,i,n){let e=t.i.o[i],o=t.i.St[i];switch(o.P){case 0:t.At.uniformMatrix4fv(o.It.Rt.i,!1,e.i),t.At.uniform4fv(o.It.Rt.Jt,o.Jt),t.At.bindVertexArray(o.Lt),t.At.drawElements(o.It.di,o.Kt.mi,Mt,0),t.At.bindVertexArray(null);break;case 1:t.At.uniformMatrix4fv(o.It.Rt.i,!1,e.i),t.At.uniformMatrix4fv(o.It.Rt.B,!1,e.B),t.At.uniform4fv(o.It.Rt.Xt,o.Xt),t.At.uniform4fv(o.It.Rt.Wt,o.Wt),t.At.uniform1f(o.It.Rt.zt,o.zt),t.At.bindVertexArray(o.Lt),t.At.drawElements(o.It.di,o.Kt.mi,Mt,0),t.At.bindVertexArray(null);break;case 4:if(o.vi===n)break;t.At.uniformMatrix4fv(o.It.Rt.i,!1,e.i),t.At.uniform4fv(o.It.Rt.Jt,o.Jt),t.At.activeTexture(33984),t.At.bindTexture(wt,o.vi),t.At.uniform1i(o.It.Rt._i,0),t.At.bindVertexArray(o.Lt),t.At.drawElements(o.It.di,o.Kt.mi,Mt,0),t.At.bindVertexArray(null);break;case 5:if(o.vi===n)break;t.At.uniformMatrix4fv(o.It.Rt.i,!1,e.i),t.At.uniformMatrix4fv(o.It.Rt.B,!1,e.B),t.At.uniform4fv(o.It.Rt.Xt,o.Xt),t.At.uniform4fv(o.It.Rt.Wt,o.Wt),t.At.uniform1f(o.It.Rt.zt,o.zt),t.At.activeTexture(33984),t.At.bindTexture(wt,o.vi),t.At.uniform1i(o.It.Rt.pi,0),t.At.bindVertexArray(o.Lt),t.At.drawElements(o.It.di,o.Kt.mi,Mt,0),t.At.bindVertexArray(null);break;case 7:t.At.uniformMatrix4fv(o.It.Rt.i,!1,e.i),t.At.uniform4fv(o.It.Rt.Jt,o.Jt),t.At.bindBuffer(pt,o.Ft),t.At.enableVertexAttribArray(o.It.Rt.xt),t.At.vertexAttribPointer(o.It.Rt.xt,3,Tt,!1,0,0),t.At.drawArrays(o.It.di,0,o.mi);break;case 6:t.At.uniformMatrix4fv(o.It.Rt.i,!1,e.i),t.At.uniformMatrix4fv(o.It.Rt.B,!1,e.B),t.At.uniform4fv(o.It.Rt.Xt,o.Xt),t.At.activeTexture(33985),t.At.bindTexture(wt,o.pi),t.At.uniform1i(o.It.Rt.pi,1),t.At.activeTexture(33986),t.At.bindTexture(wt,o.gi),t.At.uniform1i(o.It.Rt.gi,2),t.At.activeTexture(33987),t.At.bindTexture(wt,o.yi),t.At.uniform1i(o.It.Rt.yi,3),t.At.bindVertexArray(o.Lt),t.At.drawElements(o.It.di,o.Kt.mi,Mt,0),t.At.bindVertexArray(null);break;case 8:t.At.uniformMatrix4fv(o.It.Rt.i,!1,e.i),t.At.bindVertexArray(o.Lt),t.At.drawElementsInstanced(o.It.di,o.Kt.mi,Mt,0,Math.floor(o.qt)),t.At.bindVertexArray(null)}}function J(t,i){for(let i=0;i<t.i.lt.length;i++)if(2048==(2048&t.i.lt[i])){let n=t.i.o[i];n.A&&Q(t,i,n)}}function Q(t,i,n){if(n.A=!1,F(n.i,n.F,n.T,n.R),void 0!==n.Mt&&A(n.i,t.i.o[n.Mt].i,n.i),b(n.B,n.i),4&t.i.lt[i]){let n=t.i.st[i];for(let e of n.st)if(2048&t.i.lt[e]){let n=t.i.o[e];n.Mt=i,Q(t,e,n)}}}function Z(t,...i){return t.reduce(((t,n)=>t+function(t){let i=t.shift();return"boolean"==typeof i||null==i?"":Array.isArray(i)?i.join(""):i}(i)+n))}function tt(t=0,i=1){return ei=16807*ei%2147483647,(ei-1)/2147483646*(i-t)+t}function it(t){return(i,n)=>{let e={};for(let i in t){let{p:n,_:o=7}=t[i],r=n[n.length-1].g;e[i]={p:n.map((t=>({...t}))),_:o,k:r,v:0}}i.i.lt[n]|=1,i.i.l[n]={h:e,m:e.idle}}}function nt(t,i,n,e=[1,1,1]){return(o,r)=>{o.i.lt[r]|=8,o.i.wt[r]={ot:r,wi:!0,Mi:t,it:i,tt:n,j:e,O:[0,0,0],J:[0,0,0],U:[0,0,0],Z:[0,0,0],nt:[]}}}function et(t,i=.5){return(n,e)=>{n.i.lt[e]|=1024,n.i.Tt[e]={P:t,si:i,oi:[0,0,0],ni:[0,0,0],ei:[0,0,0],ri:[0,0,0],li:!1}}}function ot(t){return[[E([0,-2,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[1.2,4,4.8]),et(2),$([E(void 0,void 0,[1.2,4,4.8]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,2,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[3.6,4,8.4]),et(2),$([E(void 0,void 0,[3.6,4,8.4]),B(t.Ti,t.bi,[.33,.33,.33,1])])]]}function rt(t){return[[E(void 0,[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[3.6,5,4]),et(2),$([E(void 0,void 0,[3.6,5,4]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,0,1.9],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[.2,.6,3.6]),et(2),$([E(void 0,void 0,[.2,.6,3.6]),B(t.Ti,t.bi,[.33,.33,.33,1])])]]}function lt(t){return[[E([0,-9.8,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[2,4,2]),et(2),$([E(void 0,void 0,[2,4,2]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,-3.8,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[1.2,8,1.2]),et(2),$([E(void 0,void 0,[1.2,8,1.2]),B(t.Ti,t.bi,[.33,.33,.33,1])])]]}function st(t){return[[E([0,-9.1,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[2,4,2]),et(2),$([E(void 0,void 0,[2,4,2]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,-10.3,1.3],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[.6,1.6,1.6]),et(2),$([E(void 0,void 0,[.6,1.6,1.6]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,-10.5,1.55],[0,.92,0,.38],[1,1,1]),nt(!0,12,0,[1,1.2,1]),et(2),$([E(void 0,void 0,[1,1.2,1]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,-3.1,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[1.2,8,1.2]),et(2),$([E(void 0,void 0,[1.2,8,1.2]),B(t.Ti,t.bi,[.33,.33,.33,1])])]]}function at(t){return[[E([0,-9.8,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[2,4,2]),et(2),$([E(void 0,void 0,[2,4,2]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,-3.8,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[1.2,8,1.2]),et(2),$([E(void 0,void 0,[1.2,8,1.2]),B(t.Ti,t.bi,[.33,.33,.33,1])])]]}function ct(t){return[[E([0,-9.1,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[2,4,2]),et(2),$([E(void 0,void 0,[2,4,2]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,-10.3,1.3],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[.6,1.6,1.6]),et(2),$([E(void 0,void 0,[.6,1.6,1.6]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,-10.5,1.55],[0,.92,0,.38],[1,1,1]),nt(!0,12,0,[1,1.2,1]),et(2),$([E(void 0,void 0,[1,1.2,1]),B(t.Ti,t.bi,[.33,.33,.33,1])])],[E([0,-3.1,0],[0,.71,0,.71],[1,1,1]),nt(!0,12,0,[1.2,8,1.2]),et(2),$([E(void 0,void 0,[1.2,8,1.2]),B(t.Ti,t.bi,[.33,.33,.33,1])])]]}function ut(t){return[$([E([0,14.5,0],void 0,void 0),$(...ot(t)),it(oi.body)],[E([0,21,0],void 0,void 0),$(...rt(t))],[E([5,18,0],void 0,void 0),$(...lt(t)),it(oi.left_hand)],[E([3,11,0],void 0,void 0),$(...st(t)),it(oi.left_leg)],[E([-5,18,0],void 0,void 0),$(...at(t)),it(oi.right_hand)],[E([-3,11,0],void 0,void 0),$(...ct(t)),it(oi.right_leg)])]}function ft(t){return(i,n)=>{i.i.lt[n]|=64,i.i.gt[n]={P:t,bt:null,yt:!1}}}function ht(t,i){return(n,e)=>{n.i.lt[e]|=256,n.i.ut[e]={Zt:t,ti:i,ft:[0,0,0],ht:[0,0,0,1],ii:[0,0,0,1]}}}function dt(t){return[(t,i)=>{t.i.lt[i]|=16,t.i.vt[i]={P:0}},nt(!0,1,2,[.1,.5,.1]),et(1,.1),ht(2,1),$([E(void 0,[0,1,0,0]),$([E(),(t,i)=>{t.i.lt[i]|=2,t.i.Ai[i]={P:1,q:[]}}],[E(),ft(0)],[E(),ft(1),nt(!0,0,8,[.1,.1,.1]),$([E(void 0,void 0,[-1,1,1]),B(t.Ti,t.Fi,[1,1,.3,1],0,[1,1,1,1],2305)])],[E(),ft(2),nt(!0,0,8,[.1,.1,.1]),$([E(),B(t.Ti,t.Fi,[1,1,.3,1],0,[1,1,1,1],yt)])])])]}function mt(t,i,n){return(e,o)=>{e.i.lt[o]|=32,e.i.ct[o]={ft:t,F:i,dt:n}}}function vt(t=[1,1,1],i=1){return(n,e)=>{n.i.lt[e]|=128,n.i.Ut[e]={P:1,Jt:t,Qt:i**2}}}const _t=35044,pt=34962,gt=34963,yt=2304,wt=3553,Mt=5123,Tt=5126,bt=document.getElementById("update"),At=document.getElementById("delta"),Ft=document.getElementById("fps"),xt=1/60;let Rt=Float32Array.from([-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),kt=Float32Array.from([-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0]),Ct=Float32Array.from([.666667,.333333,.333333,.333333,.333333,0,.666667,0,.333333,.666667,0,.666667,0,.333333,.333333,.333333,.333333,.333333,0,.333333,0,0,.333333,0,.333333,.666667,.333333,.333333,.666667,.333333,.666667,.666667,1,.333333,.666667,.333333,.666667,0,1,0,.333333,.666667,.333333,1,0,1,0,.666667]),Pt=Float32Array.from([]),St=Uint16Array.from([23,22,20,22,21,20,19,18,16,18,17,16,15,14,12,14,13,12,11,10,8,10,9,8,7,6,4,6,5,4,3,2,0,2,1,0]),It=Float32Array.from([-.001385,.0289,.08506,.012262,.02891,.084294,.008816,.03592,-.006425,-.008054,.035631,-.005256,-.008054,.035631,-.005256,.008816,.03592,-.006425,.010208,-.054815,-.008776,-.006663,-.055104,-.007608,-.006663,-.055104,-.007608,.010208,-.054815,-.008776,.012769,-.050857,.082463,-877e-6,-.050867,.083229,-877e-6,-.050867,.083229,.012769,-.050857,.082463,.012262,.02891,.084294,-.001385,.0289,.08506,-.008054,.035631,-.005256,-.006663,-.055104,-.007608,-877e-6,-.050867,.083229,-.001385,.0289,.08506,.010208,-.054815,-.008776,.008816,.03592,-.006425,.012262,.02891,.084294,.012769,-.050857,.082463,-.010561,.034481,-.00819,.005581,.036289,-.012904,-.007908,.039624,-.057817,-.02405,.037816,-.053103,-.02405,.037816,-.053103,-.007908,.039624,-.057817,-.006305,.020333,-.059731,-.022448,.018524,-.055017,-.022448,.018524,-.055017,-.006305,.020333,-.059731,.007184,.016998,-.014818,-.008958,.015189,-.010104,-.008958,.015189,-.010104,.007184,.016998,-.014818,.005581,.036289,-.012904,-.010561,.034481,-.00819,-.02405,.037816,-.053103,-.022448,.018524,-.055017,-.008958,.015189,-.010104,-.010561,.034481,-.00819,-.006305,.020333,-.059731,-.007908,.039624,-.057817,.005581,.036289,-.012904,.007184,.016998,-.014818,-.008492,.008946,-.009729,.007589,.010819,-.014622,-.008373,.012793,-.066324,-.024454,.01092,-.06143,-.024454,.01092,-.06143,-.008373,.012793,-.066324,-.006521,-.006527,-.067633,-.022602,-.0084,-.06274,-.022602,-.0084,-.06274,-.006521,-.006527,-.067633,.009441,-.008501,-.015931,-.006641,-.010374,-.011038,-.006641,-.010374,-.011038,.009441,-.008501,-.015931,.007589,.010819,-.014622,-.008492,.008946,-.009729,-.024454,.01092,-.06143,-.022602,-.0084,-.06274,-.006641,-.010374,-.011038,-.008492,.008946,-.009729,-.006521,-.006527,-.067633,-.008373,.012793,-.066324,.007589,.010819,-.014622,.009441,-.008501,-.015931,-.007242,-.014884,-.010548,.009032,-.014337,-.015124,-.002639,-.013896,-.05658,-.018912,-.014444,-.052005,-.018912,-.014444,-.052005,-.002639,-.013896,-.05658,-.002139,-.03151,-.056908,-.018412,-.032057,-.052333,-.018412,-.032057,-.052333,-.002139,-.03151,-.056908,.009532,-.031951,-.015452,-.006741,-.032498,-.010876,-.006741,-.032498,-.010876,.009532,-.031951,-.015452,.009032,-.014337,-.015124,-.007242,-.014884,-.010548,-.018912,-.014444,-.052005,-.018412,-.032057,-.052333,-.006741,-.032498,-.010876,-.007242,-.014884,-.010548,-.002139,-.03151,-.056908,-.002639,-.013896,-.05658,.009032,-.014337,-.015124,.009532,-.031951,-.015452,-.025175,.037965,-.05345,-.01111,.03996,-.06263,-.033807,.04235,-.096885,-.047871,.040354,-.087705,-.047871,.040354,-.087705,-.033807,.04235,-.096885,-.03251,.023066,-.09909,-.046574,.021071,-.08991,-.046574,.021071,-.08991,-.03251,.023066,-.09909,-.009813,.020677,-.064835,-.023878,.018681,-.055655,-.023878,.018681,-.055655,-.009813,.020677,-.064835,-.01111,.03996,-.06263,-.025175,.037965,-.05345,-.047871,.040354,-.087705,-.046574,.021071,-.08991,-.023878,.018681,-.055655,-.025175,.037965,-.05345,-.03251,.023066,-.09909,-.033807,.04235,-.096885,-.01111,.03996,-.06263,-.009813,.020677,-.064835,-.025824,.011507,-.061474,-.011587,.013391,-.070407,-.034379,.014488,-.106501,-.048617,.012604,-.097568,-.048617,.012604,-.097568,-.034379,.014488,-.106501,-.032811,-.004837,-.108078,-.047049,-.006721,-.099145,-.047049,-.006721,-.099145,-.032811,-.004837,-.108078,-.010019,-.005934,-.071984,-.024257,-.007818,-.063051,-.024257,-.007818,-.063051,-.010019,-.005934,-.071984,-.011587,.013391,-.070407,-.025824,.011507,-.061474,-.048617,.012604,-.097568,-.047049,-.006721,-.099145,-.024257,-.007818,-.063051,-.025824,.011507,-.061474,-.032811,-.004837,-.108078,-.034379,.014488,-.106501,-.011587,.013391,-.070407,-.010019,-.005934,-.071984,-.019676,-.014397,-.052382,-.005143,-.013823,-.061015,-.025188,-.013764,-.094755,-.039721,-.014337,-.086122,-.039721,-.014337,-.086122,-.025188,-.013764,-.094755,-.024684,-.031529,-.095086,-.039217,-.032102,-.086453,-.039217,-.032102,-.086453,-.024684,-.031529,-.095086,-.004639,-.031588,-.061346,-.019171,-.032161,-.052713,-.019171,-.032161,-.052713,-.004639,-.031588,-.061346,-.005143,-.013823,-.061015,-.019676,-.014397,-.052382,-.039721,-.014337,-.086122,-.039217,-.032102,-.086453,-.019171,-.032161,-.052713,-.019676,-.014397,-.052382,-.024684,-.031529,-.095086,-.025188,-.013764,-.094755,-.005143,-.013823,-.061015,-.004639,-.031588,-.061346,-.009989,.051511,.065661,-561e-6,.065343,.064337,-.015486,.071823,.02576,-.024915,.057991,.027085,-.024915,.057991,.027085,-.015486,.071823,.02576,815e-6,.059916,.017453,-.008614,.046083,.018777,-.008614,.046083,.018777,815e-6,.059916,.017453,.015741,.053436,.056029,.006312,.039604,.057354,.006312,.039604,.057354,.015741,.053436,.056029,-561e-6,.065343,.064337,-.009989,.051511,.065661,-.024915,.057991,.027085,-.008614,.046083,.018777,.006312,.039604,.057354,-.009989,.051511,.065661,815e-6,.059916,.017453,-.015486,.071823,.02576,-561e-6,.065343,.064337,.015741,.053436,.056029,-.006725,-.038551,-.010014,.009467,-.038227,-.01489,-.001353,-.039097,-.050876,-.017545,-.039421,-.046,-.017545,-.039421,-.046,-.001353,-.039097,-.050876,-955e-6,-.054994,-.050612,-.017147,-.055318,-.045736,-.017147,-.055318,-.045736,-955e-6,-.054994,-.050612,.009864,-.054125,-.014626,-.006328,-.054449,-.009749,-.006328,-.054449,-.009749,.009864,-.054125,-.014626,.009467,-.038227,-.01489,-.006725,-.038551,-.010014,-.017545,-.039421,-.046,-.017147,-.055318,-.045736,-.006328,-.054449,-.009749,-.006725,-.038551,-.010014,-955e-6,-.054994,-.050612,-.001353,-.039097,-.050876,.009467,-.038227,-.01489,.009864,-.054125,-.014626,-.017719,-.039433,-.047417,-.002918,-.039345,-.055601,-.018668,-.039437,-.084087,-.033469,-.039526,-.075902,-.033469,-.039526,-.075902,-.018668,-.039437,-.084087,-.018572,-.055552,-.084087,-.033373,-.05564,-.075903,-.033373,-.05564,-.075903,-.018572,-.055552,-.084087,-.002821,-.055459,-.055602,-.017623,-.055548,-.047418,-.017623,-.055548,-.047418,-.002821,-.055459,-.055602,-.002918,-.039345,-.055601,-.017719,-.039433,-.047417,-.033469,-.039526,-.075902,-.033373,-.05564,-.075903,-.017623,-.055548,-.047418,-.017719,-.039433,-.047417,-.018572,-.055552,-.084087,-.018668,-.039437,-.084087,-.002918,-.039345,-.055601,-.002821,-.055459,-.055602,-.025987,.058941,.023445,-.01855,.073332,.019022,-.036803,.072894,-.013094,-.04424,.058503,-.008671,-.04424,.058503,-.008671,-.036803,.072894,-.013094,-.020471,.061648,-.022223,-.027908,.047257,-.017799,-.027908,.047257,-.017799,-.020471,.061648,-.022223,-.002218,.062086,.009893,-.009655,.047695,.014317,-.009655,.047695,.014317,-.002218,.062086,.009893,-.01855,.073332,.019022,-.025987,.058941,.023445,-.04424,.058503,-.008671,-.027908,.047257,-.017799,-.009655,.047695,.014317,-.025987,.058941,.023445,-.020471,.061648,-.022223,-.036803,.072894,-.013094,-.01855,.073332,.019022,-.002218,.062086,.009893]),Kt=Float32Array.from([-.005,.9971,.076,-.005,.9971,.076,-.005,.9971,.076,-.005,.9971,.076,-.0695,.0248,-.9973,-.0695,.0248,-.9973,-.0695,.0248,-.9973,-.0695,.0248,-.9973,.0126,-.9989,.0444,.0126,-.9989,.0444,.0126,-.9989,.0444,.0126,-.9989,.0444,.056,-.0226,.9982,.056,-.0226,.9982,.056,-.0226,.9982,.056,-.0226,.9982,-.9976,-.0128,.0684,-.9976,-.0128,.0684,-.9976,-.0128,.0684,-.9976,-.0128,.0684,.9994,.0119,-.0328,.9994,.0119,-.0328,.9994,.0119,-.0328,.9994,.0119,-.0328,-.0824,.9917,.0984,-.0824,.9917,.0984,-.0824,.9917,.0984,-.0824,.9917,.0984,-.2869,.0709,-.9553,-.2869,.0709,-.9553,-.2869,.0709,-.9553,-.2869,.0709,-.9553,.0824,-.9917,-.0984,.0824,-.9917,-.0984,.0824,-.9917,-.0984,.0824,-.9917,-.0984,.2869,-.0709,.9553,.2869,-.0709,.9553,.2869,-.0709,.9553,.2869,-.0709,.9553,-.9544,-.1069,.2787,-.9544,-.1069,.2787,-.9544,-.1069,.2787,-.9544,-.1069,.2787,.9544,.1069,-.2787,.9544,.1069,-.2787,.9544,.1069,-.2787,.9544,.1069,-.2787,-.0952,.9932,.0673,-.0952,.9932,.0673,-.0952,.9932,.0673,-.0952,.9932,.0673,-.2948,.0365,-.9549,-.2948,.0365,-.9549,-.2948,.0365,-.9549,-.2948,.0365,-.9549,.0952,-.9932,-.0673,.0952,-.9932,-.0673,.0952,-.9932,-.0673,.0952,-.9932,-.0673,.2948,-.0365,.9549,.2948,-.0365,.9549,.2948,-.0365,.9549,.2948,-.0365,.9549,-.9508,-.1107,.2893,-.9508,-.1107,.2893,-.9508,-.1107,.2893,-.9508,-.1107,.2893,.9508,.1107,-.2893,.9508,.1107,-.2893,.9508,.1107,-.2893,.9508,.1107,-.2893,-.0284,.9994,.0186,-.0284,.9994,.0186,-.0284,.9994,.0186,-.0284,.9994,.0186,-.271,.0102,-.9625,-.271,.0102,-.9625,-.271,.0102,-.9625,-.271,.0102,-.9625,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.271,-.0102,.9625,.271,-.0102,.9625,.271,-.0102,.9625,.271,-.0102,.9625,-.9622,-.0324,.2705,-.9622,-.0324,.2705,-.9622,-.0324,.2705,-.9622,-.0324,.2705,.9622,.0324,-.2705,.9622,.0324,-.2705,.9622,.0324,-.2705,.9622,.0324,-.2705,-.0667,.9913,.1133,-.0667,.9913,.1133,-.0667,.9913,.1133,-.0667,.9913,.1133,-.5514,.0581,-.8322,-.5514,.0581,-.8322,-.5514,.0581,-.8322,-.5514,.0581,-.8322,.0667,-.9913,-.1133,.0667,-.9913,-.1133,.0667,-.9913,-.1133,.0667,-.9913,-.1133,.5514,-.0581,.8322,.5514,-.0581,.8322,.5514,-.0581,.8322,.5514,-.0581,.8322,-.8316,-.118,.5427,-.8316,-.118,.5427,-.8316,-.118,.5427,-.8316,-.118,.5427,.8316,.118,-.5427,.8316,.118,-.5427,.8316,.118,-.5427,.8316,.118,-.5427,-.0806,.9934,.0811,-.0806,.9934,.0811,-.0806,.9934,.0811,-.0806,.9934,.0811,-.5338,.0257,-.8453,-.5338,.0257,-.8453,-.5338,.0257,-.8453,-.5338,.0257,-.8453,.0806,-.9934,-.0811,.0806,-.9934,-.0811,.0806,-.9934,-.0811,.0806,-.9934,-.0811,.5338,-.0257,.8453,.5338,-.0257,.8453,.5338,-.0257,.8453,.5338,-.0257,.8453,-.8418,-.1114,.5282,-.8418,-.1114,.5282,-.8418,-.1114,.5282,-.8418,-.1114,.5282,.8418,.1114,-.5282,.8418,.1114,-.5282,.8418,.1114,-.5282,.8418,.1114,-.5282,-.0284,.9994,.0186,-.0284,.9994,.0186,-.0284,.9994,.0186,-.0284,.9994,.0186,-.5108,.0015,-.8597,-.5108,.0015,-.8597,-.5108,.0015,-.8597,-.5108,.0015,-.8597,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.5108,-.0015,.8597,.5108,-.0015,.8597,.5108,-.0015,.8597,.5108,-.0015,.8597,-.8592,-.0339,.5104,-.8592,-.0339,.5104,-.8592,-.0339,.5104,-.8592,-.0339,.5104,.8592,.0339,-.5104,.8592,.0339,-.5104,.8592,.0339,-.5104,.8592,.0339,-.5104,-.7468,.5455,.3806,-.7468,.5455,.3806,-.7468,.5455,.3806,-.7468,.5455,.3806,-.3565,.1548,-.9214,-.3565,.1548,-.9214,-.3565,.1548,-.9214,-.3565,.1548,-.9214,.7468,-.5455,-.3806,.7468,-.5455,-.3806,.7468,-.5455,-.3806,.7468,-.5455,-.3806,.3565,-.1548,.9214,.3565,-.1548,.9214,.3565,-.1548,.9214,.3565,-.1548,.9214,-.5615,-.8237,.0789,-.5615,-.8237,.0789,-.5615,-.8237,.0789,-.5615,-.8237,.0789,.5615,.8237,-.0789,.5615,.8237,-.0789,.5615,.8237,-.0789,.5615,.8237,-.0789,-.025,.9995,-.0166,-.025,.9995,-.0166,-.025,.9995,-.0166,-.025,.9995,-.0166,-.2879,-.0231,-.9574,-.2879,-.0231,-.9574,-.2879,-.0231,-.9574,-.2879,-.0231,-.9574,.025,-.9995,.0166,.025,-.9995,.0166,.025,-.9995,.0166,.025,-.9995,.0166,.2879,.0231,.9574,.2879,.0231,.9574,.2879,.0231,.9574,.2879,.0231,.9574,-.9573,-.0191,.2883,-.9573,-.0191,.2883,-.9573,-.0191,.2883,-.9573,-.0191,.2883,.9573,.0191,-.2883,.9573,.0191,-.2883,.9573,.0191,-.2883,.9573,.0191,-.2883,-.006,1,1e-4,-.006,1,1e-4,-.006,1,1e-4,-.006,1,1e-4,-.4839,-.0028,-.8751,-.4839,-.0028,-.8751,-.4839,-.0028,-.8751,-.4839,-.0028,-.8751,.006,-1,-1e-4,.006,-1,-1e-4,.006,-1,-1e-4,.006,-1,-1e-4,.4839,.0028,.8751,.4839,.0028,.8751,.4839,.0028,.8751,.4839,.0028,.8751,-.8751,-.0052,.4839,-.8751,-.0052,.4839,-.8751,-.0052,.4839,-.8751,-.0052,.4839,.8751,.0052,-.4839,.8751,.0052,-.4839,.8751,.0052,-.4839,.8751,.0052,-.4839,-.7482,.5152,.4182,-.7482,.5152,.4182,-.7482,.5152,.4182,-.7482,.5152,.4182,-.4941,-.0119,-.8693,-.4941,-.0119,-.8693,-.4941,-.0119,-.8693,-.4941,-.0119,-.8693,.7482,-.5152,-.4182,.7482,-.5152,-.4182,.7482,-.5152,-.4182,.7482,-.5152,-.4182,.4941,.0119,.8693,.4941,.0119,.8693,.4941,.0119,.8693,.4941,.0119,.8693,-.4429,-.857,.2634,-.4429,-.857,.2634,-.4429,-.857,.2634,-.4429,-.857,.2634,.4429,.857,-.2634,.4429,.857,-.2634,.4429,.857,-.2634,.4429,.857,-.2634]),Vt=Float32Array.from([.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75]),$t=Float32Array.from([]),Lt=Uint16Array.from([263,262,260,262,261,260,259,258,256,258,257,256,255,254,252,254,253,252,251,250,248,250,249,248,247,246,244,246,245,244,243,242,240,242,241,240,239,238,236,238,237,236,235,234,232,234,233,232,231,230,228,230,229,228,227,226,224,226,225,224,223,222,220,222,221,220,219,218,216,218,217,216,215,214,212,214,213,212,211,210,208,210,209,208,207,206,204,206,205,204,203,202,200,202,201,200,199,198,196,198,197,196,195,194,192,194,193,192,191,190,188,190,189,188,187,186,184,186,185,184,183,182,180,182,181,180,179,178,176,178,177,176,175,174,172,174,173,172,171,170,168,170,169,168,167,166,164,166,165,164,163,162,160,162,161,160,159,158,156,158,157,156,155,154,152,154,153,152,151,150,148,150,149,148,147,146,144,146,145,144,143,142,140,142,141,140,139,138,136,138,137,136,135,134,132,134,133,132,131,130,128,130,129,128,127,126,124,126,125,124,123,122,120,122,121,120,119,118,116,118,117,116,115,114,112,114,113,112,111,110,108,110,109,108,107,106,104,106,105,104,103,102,100,102,101,100,99,98,96,98,97,96,95,94,92,94,93,92,91,90,88,90,89,88,87,86,84,86,85,84,83,82,80,82,81,80,79,78,76,78,77,76,75,74,72,74,73,72,71,70,68,70,69,68,67,66,64,66,65,64,63,62,60,62,61,60,59,58,56,58,57,56,55,54,52,54,53,52,51,50,48,50,49,48,47,46,44,46,45,44,43,42,40,42,41,40,39,38,36,38,37,36,35,34,32,34,33,32,31,30,28,30,29,28,27,26,24,26,25,24,23,22,20,22,21,20,19,18,16,18,17,16,15,14,12,14,13,12,11,10,8,10,9,8,7,6,4,6,5,4,3,2,0,2,1,0]);const Xt=Math.PI/180,Wt=[[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5],[-.5,-.5,.5]],zt=[0,1,0];let Bt=!1,Dt=[0,0,0],Et=[0,0,0],Ht=[0,0,0],Yt=!1,Nt=[0,0,0],qt=[0,0,0],Gt=[0,0,0];const Ut=[0,1,0],jt=new WeakMap;let Ot=[0,0,0];const Jt=[0,0,0,1],Qt=[0,0,0],Zt=[0,0,0];let ti,ii=[0,0,0];class ni extends class{constructor(t=1e4){this.lt=[],this.xi=[],this.Ri=t}t(){return this.xi.length>0?this.xi.pop():this.lt.push(0)-1}ki(t){this.lt[t]=0,this.xi.push(t)}}{constructor(){super(...arguments),this.l=[],this.Ai=[],this.st=[],this.wt=[],this.ct=[],this.vt=[],this.gt=[],this.Ut=[],this.ut=[],this.St=[],this.Tt=[],this.o=[]}}let ei=1;const oi={body:{idle:{p:[{g:0,F:y([0,0,0,1],0,5,0)},{g:4,F:y([0,0,0,1],0,-5,0)}]},walk:{p:[{g:0,F:y([0,0,0,1],0,5,0)},{g:1.6,F:y([0,0,0,1],0,-5,0)}]}},left_hand:{idle:{p:[{g:0,F:y([0,0,0,1],5,0,0)},{g:4,F:y([0,0,0,1],-5,0,0)}]},walk:{p:[{g:0,F:y([0,0,0,1],30,0,0)},{g:1.6,F:y([0,0,0,1],-60,0,0)}]}},right_hand:{idle:{p:[{g:0,F:y([0,0,0,1],-5,0,0)},{g:4,F:y([0,0,0,1],5,0,0)}]},walk:{p:[{g:0,F:y([0,0,0,1],-60,0,0)},{g:1.6,F:y([0,0,0,1],30,0,0)}]}},left_leg:{idle:{p:[{g:0,F:y([0,0,0,1],5,0,0)},{g:8,F:y([0,0,0,1],5,0,0)}]},walk:{p:[{g:0,F:y([0,0,0,1],-45,0,0)},{g:1.6,F:y([0,0,0,1],45,0,0)}]}},right_leg:{idle:{p:[{g:0,F:y([0,0,0,1],-5,0,0)},{g:8,F:y([0,0,0,1],-5,0,0)}]},walk:{p:[{g:0,F:y([0,0,0,1],45,0,0)},{g:1.6,F:y([0,0,0,1],-45,0,0)}]}}};let ri=new class extends class extends class{constructor(){this.Ci=0,this.Pi=0,this.I=window.innerWidth,this.K=window.innerHeight,this.C=!0,this.Si={MouseX:0,MouseY:0},this.Ii={MouseX:0,MouseY:0},this.Ki={Mouse:0,Mouse0:0,Mouse1:0,Mouse2:0,Touch0:0,Touch1:0},this.Vi={},this.$i=document.querySelector("main"),document.addEventListener("visibilitychange",(()=>document.hidden?this.Li():this.Xi())),this.$i.addEventListener("contextmenu",(t=>t.preventDefault())),this.$i.addEventListener("mousedown",(t=>{this.Si["Mouse"+t.button]=1,this.Ii["Mouse"+t.button]=1})),this.$i.addEventListener("mouseup",(t=>{this.Si["Mouse"+t.button]=0,this.Ii["Mouse"+t.button]=-1})),this.$i.addEventListener("mousemove",(t=>{this.Si.MouseX=t.clientX,this.Si.MouseY=t.clientY,this.Ii.MouseX=t.movementX,this.Ii.MouseY=t.movementY})),this.$i.addEventListener("wheel",(t=>{t.preventDefault(),this.Ii.WheelY=t.deltaY})),this.$i.addEventListener("touchstart",(t=>{t.target===this.$i&&t.preventDefault(),1===t.touches.length&&(this.Vi={});for(let i=0;i<t.touches.length;i++)this.Vi[t.touches[i].identifier]=i;for(let i=0;i<t.changedTouches.length;i++){let n=t.changedTouches[i],e=this.Vi[n.identifier];this.Si["Touch"+e]=1,this.Si[`Touch${e}X`]=n.clientX,this.Si[`Touch${e}Y`]=n.clientY,this.Ii["Touch"+e]=1,this.Ii[`Touch${e}X`]=0,this.Ii[`Touch${e}Y`]=0}})),this.$i.addEventListener("touchmove",(t=>{t.target===this.$i&&t.preventDefault();for(let i=0;i<t.changedTouches.length;i++){let n=t.changedTouches[i],e=this.Vi[n.identifier];this.Ii[`Touch${e}X`]=n.clientX-this.Si[`Touch${e}X`],this.Ii[`Touch${e}Y`]=n.clientY-this.Si[`Touch${e}Y`],this.Si[`Touch${e}X`]=n.clientX,this.Si[`Touch${e}Y`]=n.clientY}})),this.$i.addEventListener("touchend",(t=>{t.target===this.$i&&t.preventDefault();for(let i=0;i<t.changedTouches.length;i++){let n=this.Vi[t.changedTouches[i].identifier];this.Si["Touch"+n]=0,this.Ii["Touch"+n]=-1}})),this.$i.addEventListener("touchcancel",(t=>{for(let i=0;i<t.changedTouches.length;i++){let n=this.Vi[t.changedTouches[i].identifier];this.Si["Touch"+n]=0,this.Ii["Touch"+n]=-1}})),window.addEventListener("keydown",(t=>{t.repeat||(this.Si[t.code]=1,this.Ii[t.code]=1)})),window.addEventListener("keyup",(t=>{this.Si[t.code]=0,this.Ii[t.code]=-1}))}Xi(){let t=0,i=performance.now(),n=e=>{let o=(e-i)/1e3;for(this.Wi(o),t+=o;t>=xt;)t-=xt,this.zi(xt);this.Bi(o),this.Di(o),i=e,this.Ci=requestAnimationFrame(n)};this.Li(),n(i)}Li(){cancelAnimationFrame(this.Ci),this.Ci=0}Wi(t){this.Pi=performance.now();let i=Math.abs(this.Ii.MouseX)+Math.abs(this.Ii.MouseY);this.Ki.Mouse+=i,1===this.Si.Mouse0&&(this.Ki.Mouse0+=i),1===this.Si.Mouse1&&(this.Ki.Mouse1+=i),1===this.Si.Mouse2&&(this.Ki.Mouse2+=i),1===this.Si.Touch0&&(this.Ki.Touch0+=Math.abs(this.Ii.Touch0X)+Math.abs(this.Ii.Touch0Y)),1===this.Si.Touch1&&(this.Ki.Touch1+=Math.abs(this.Ii.Touch1X)+Math.abs(this.Ii.Touch1Y))}zi(t){}Bi(t){}Di(t){this.C=!1,-1===this.Ii.Mouse0&&(this.Ki.Mouse0=0),-1===this.Ii.Mouse1&&(this.Ki.Mouse1=0),-1===this.Ii.Mouse2&&(this.Ki.Mouse2=0),-1===this.Ii.Touch0&&(this.Ki.Touch0=0),-1===this.Ii.Touch1&&(this.Ki.Touch1=0);for(let t in this.Ii)this.Ii[t]=0;let i=performance.now()-this.Pi;bt&&(bt.textContent=i.toFixed(1)),At&&(At.textContent=(1e3*t).toFixed(1)),Ft&&(Ft.textContent=(1/t).toFixed())}}{constructor(){super(),this.Ei=document.querySelector("#billboard"),this.Hi=this.Ei.getContext("2d"),this.Yi=document.querySelector("#scene"),this.At=this.Yi.getContext("webgl2"),this.Audio=new AudioContext,this.At.enable(2929),this.At.enable(2884),this.At.blendFunc(770,771)}}{constructor(){super(),this.i=new ni,this.Ni=!1,this._t={},this.qi=function(t,n=4){let e=i(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec4 attr_position;\n\nvoid main() {\ngl_Position = pv * world * attr_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\nuniform vec4 color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = color;\n}\n");return{di:n,ai:e,Rt:{D:t.getUniformLocation(e,"pv"),i:t.getUniformLocation(e,"world"),Jt:t.getUniformLocation(e,"color"),xt:t.getAttribLocation(e,"attr_position")}}}(this.At,2),this.Ti=function(t){let n=i(t,"#version 300 es\n\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 specular_color;\nuniform float shininess;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_color;\n\nvoid main() {\nvec4 vert_position = world * attr_position;\nvec3 vert_normal = normalize((vec4(attr_normal, 0.0) * self).xyz);\ngl_Position = pv * vert_position;\n\nvec3 view_dir = eye - vert_position.xyz;\nvec3 view_normal = normalize(view_dir);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(vert_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * diffuse_factor * light_color * light_intensity;\n\nif (shininess > 0.0) {\n\nvec3 h = normalize(light_normal + view_normal);\nfloat specular_angle = max(dot(h, vert_normal), 0.0);\nfloat specular_factor = pow(specular_angle, shininess);\n\n\nlight_acc += specular_color.rgb * specular_factor * light_color * light_intensity;\n}\n}\n}\n\nvert_color = vec4(light_acc, diffuse_color.a);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n");return{di:4,ai:n,Rt:{D:t.getUniformLocation(n,"pv"),i:t.getUniformLocation(n,"world"),B:t.getUniformLocation(n,"self"),Xt:t.getUniformLocation(n,"diffuse_color"),Wt:t.getUniformLocation(n,"specular_color"),zt:t.getUniformLocation(n,"shininess"),ci:t.getUniformLocation(n,"eye"),jt:t.getUniformLocation(n,"light_positions"),Ot:t.getUniformLocation(n,"light_details"),ui:t.getUniformLocation(n,"fog_color"),hi:t.getUniformLocation(n,"fog_distance"),xt:t.getAttribLocation(n,"attr_position"),Ct:t.getAttribLocation(n,"attr_normal")}}}(this.At),this.Bt=function(t){let n=i(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform vec3 eye;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 attr_position;\nin vec4 attr_column1;\nin vec4 attr_column2;\nin vec4 attr_column3;\nin vec4 attr_column4;\nin vec3 attr_color;\nout vec4 vert_color;\n\nvoid main() {\nmat4 instance = mat4(\nattr_column1,\nattr_column2,\nattr_column3,\nattr_column4\n);\n\nvec4 vert_position = world * instance * attr_position;\ngl_Position = pv * vert_position;\n\nvert_color = vec4(attr_color, 1.0);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n","#version 300 es\n\nprecision mediump float;\nin vec4 vert_color;\nout vec4 frag_color;\nvoid main() {\nfrag_color = vert_color;\n}\n");return{di:4,ai:n,Rt:{D:t.getUniformLocation(n,"pv"),i:t.getUniformLocation(n,"world"),ci:t.getUniformLocation(n,"eye"),ui:t.getUniformLocation(n,"fog_color"),hi:t.getUniformLocation(n,"fog_distance"),xt:t.getAttribLocation(n,"attr_position"),Dt:t.getAttribLocation(n,"attr_column1"),Et:t.getAttribLocation(n,"attr_column2"),Ht:t.getAttribLocation(n,"attr_column3"),Yt:t.getAttribLocation(n,"attr_column4"),Nt:t.getAttribLocation(n,"attr_color")}}}(this.At),this.bi=function(t){let i=t.createBuffer();t.bindBuffer(pt,i),t.bufferData(pt,Rt,_t);let n=t.createBuffer();t.bindBuffer(pt,n),t.bufferData(pt,kt,_t);let e=t.createBuffer();t.bindBuffer(pt,e),t.bufferData(pt,Ct,_t);let o=t.createBuffer();t.bindBuffer(pt,o),t.bufferData(pt,Pt,_t);let r=t.createBuffer();return t.bindBuffer(gt,r),t.bufferData(gt,St,_t),{Ft:i,Gi:Rt,kt:n,Ui:kt,ji:e,Oi:Ct,Ji:o,Qi:Pt,Pt:r,Zi:St,mi:St.length}}(this.At),this.Fi=function(t){let i=t.createBuffer();t.bindBuffer(pt,i),t.bufferData(pt,It,_t);let n=t.createBuffer();t.bindBuffer(pt,n),t.bufferData(pt,Kt,_t);let e=t.createBuffer();t.bindBuffer(pt,e),t.bufferData(pt,Vt,_t);let o=t.createBuffer();t.bindBuffer(pt,o),t.bufferData(pt,$t,_t);let r=t.createBuffer();return t.bindBuffer(gt,r),t.bufferData(gt,Lt,_t),{Ft:i,Gi:It,kt:n,Ui:Kt,ji:e,Oi:Vt,Ji:o,Qi:$t,Pt:r,Zi:Lt,mi:Lt.length}}(this.At),this.tn=[],this.jt=new Float32Array(32),this.Ot=new Float32Array(32),this.fi=[1,1,1,1],this.hi=50,navigator.xr&&async function(t){await t.At.makeXRCompatible(),t.Ni=await navigator.xr.isSessionSupported("immersive-vr")}(this)}Xi(){let t=performance.now(),i=(n,e)=>{let o=(n-t)/1e3;t=n,e?(this.Y=e,this.Ci=this.Y.session.requestAnimationFrame(i)):(this.Y=void 0,this.Ci=requestAnimationFrame(i)),this.Wi(o),this.Bi(o),this.Di(o)};this.Ci=this.nn?this.nn.requestAnimationFrame(i):requestAnimationFrame(i)}Li(){this.nn?this.nn.cancelAnimationFrame(this.Ci):cancelAnimationFrame(this.Ci),this.Ci=0}Wi(t){if(super.Wi(t),this.Y){this._t={};for(let t of this.Y.session.inputSources)t.gripSpace&&(this._t[t.handedness]=t)}}Bi(t){!function(t,i){if(t.Y)for(let i=0;i<t.i.lt.length;i++)2112==(2112&t.i.lt[i])&&z(t,i)}(this),function(t,i){if(t.Y)for(let i=0;i<t.i.lt.length;i++)2064==(2064&t.i.lt[i])&&W(t,i)}(this),function(t,i){for(let i=0;i<t.i.lt.length;i++)2080==(2080&t.i.lt[i])&&X(t,i)}(this),function(t,i){for(let n=0;n<t.i.lt.length;n++)2049==(2049&t.i.lt[n])&&T(t,n,i)}(this,t),function(t,i){for(let n=0;n<t.i.lt.length;n++)2304==(2304&t.i.lt[n])&&Y(t,n,i)}(this,t),function(t,i){for(let n=0;n<t.i.lt.length;n++)3072==(3072&t.i.lt[n])&&N(t,n,i)}(this,t),J(this),function(t,i){for(let n=0;n<t.i.lt.length;n++)3072==(3072&t.i.lt[n])&&q(t,n,i)}(this,t),function(t,i){let n=[],e=[];for(let i=0;i<t.i.lt.length;i++)if(2056==(2056&t.i.lt[i])){let o=t.i.o[i],r=t.i.wt[i];r.nt=[],r.wi?(r.wi=!1,S(o.i,r)):r.Mi?(S(o.i,r),e.push(r)):n.push(r)}for(let t=0;t<e.length;t++)V(e[t],n,n.length),V(e[t],e,t)}(this),function(t,i){for(let i=0;i<t.i.lt.length;i++)3080==(3080&t.i.lt[i])&&G(t,i)}(this),J(this),function(t,i){t.I==window.innerWidth&&t.K==window.innerHeight||(t.C=!0),t.C&&(t.I=t.Yi.width=t.Ei.width=window.innerWidth,t.K=t.Yi.height=t.Ei.height=window.innerHeight)}(this),function(t,i){t.tn=[];for(let i=0;i<t.i.lt.length;i++)if(2050==(2050&t.i.lt[i])){let n=t.i.Ai[i];if(1===n.P&&t.Y)return t.tn.push(i),void P(t,i,n);if(0===n.P&&!t.Y)return t.tn.push(i),void C(t,i,n)}}(this),function(t,i){t.jt.fill(0),t.Ot.fill(0);let n=0;for(let i=0;i<t.i.lt.length;i++)2176==(2176&t.i.lt[i])&&H(t,i,n++)}(this),function(t,i){for(let i of t.tn){let n=t.i.Ai[i];switch(n.P){case 0:t.At.bindFramebuffer(36160,null),t.At.viewport(0,0,t.I,t.K),t.At.clear(16640),U(t,n);break;case 1:let i=t.Y.session.renderState.baseLayer;t.At.bindFramebuffer(36160,i.framebuffer),t.At.clear(16640);for(let e of n.q){let n=i.getViewport(e.G);t.At.viewport(n.x,n.y,n.width,n.height),U(t,e)}}}}(this),function(t,i){let n=function(t){return Z` <div>${function(t){return Z`
<div
style="
position: absolute;
bottom: 1vmin;
right: 1vmin;
background: #000;
color: #fff;
font: 13px Arial;
"
>
${t.Y?Z`
<button
onclick="$(${1})"
style="
padding: 1vmin;
background: #000;
color: #fff;
border: none;
"
>
Exit VR
</button>
`:window.isSecureContext?navigator.xr?t.Ni?Z`
<button
onclick="$(${0})"
style="
padding: 1vmin;
background: #000;
color: #fff;
border: none;
"
>
Enter VR
</button>
`:'<div style="padding: 1vmin">WebXR headset not found</div>':'<div style="padding: 1vmin">WebXR not supported</div>':'<div style="padding: 1vmin">WebXR requires HTTPS</div>'}
</div>
`}(t)}</div> `}(t);n!==ti&&(t.$i.innerHTML=ti=n)}(this)}};!function(i){var n;n=Date.now(),ei=198706*n,i.i=new ni,i.tn=[],i.C=!0,i.At.clearColor(i.fi[0],i.fi[1],i.fi[2],1),t(i,[$([E(void 0,[0,1,0,0]),(t,i)=>{t.i.lt[i]|=2,t.i.Ai[i]={P:0,S:{P:0,V:1,$:.1,L:1e3,S:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],X:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},W:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],D:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],H:[0,0,0]}}]),E([0,2,0],[0,1,0,0])]),t(i,[...dt(i),E([0,50,0],[0,1,0,0])]),t(i,[E([2,4,3]),vt([1,1,1],1)]),t(i,[E(void 0,void 0,[100,3,100]),nt(!1,6,0),et(0)]);let e=new Float32Array(321600),o=new Float32Array(60300),r=0;for(let t=0;t<10;t++)for(let i=0;i<10;i++){let n=10*(t-5+.5),l=10*(i-5+.5),s=new Float32Array(e.buffer,64*r,16);r++,F(s,[0,0,0,1],[n,-1,l],[10,1,10]);let a=new Float32Array(o.buffer,12*r,3);a[0]=tt(0,1),a[1]=tt(0,1),a[2]=tt(0,1)}for(let t=100;t<20100;t++){F(new Float32Array(e.buffer,64*t,16),y([0,0,0,1],tt(-90,90),tt(-90,90),tt(-90,90)),[tt(-50,50),0,tt(-50,50)],[tt(.1,.5),tt(.5,5),tt(.1,.5)]);let i=new Float32Array(o.buffer,12*t,3);i[0]=tt(0,1),i[1]=tt(0,1),i[2]=tt(0,1)}t(i,[E([0,1,0]),D(i.bi,e,o)]),t(i,[E([10,-2,-10]),...ut(i)]),t(i,[E([-20,-2,30],y([0,0,0,1],0,180,0)),ht(2,0),...ut(i),mt([0,0,1],null,"walk")]),t(i,[E([-20,-2,100],y([0,0,0,1],0,180,0)),ht(2,0),...ut(i),mt([0,0,1],null,"walk")])}(ri),ri.Xi(),window.$=function(t,i,n){switch(i){case 0:t.Ni&&async function(t){let i=await navigator.xr.requestSession("immersive-vr");i.updateRenderState({baseLayer:new XRWebGLLayer(i,t.At),depthFar:t.hi}),t.N=await i.requestReferenceSpace("local"),t.Li(),t.nn=i,t.Xi(),t.nn.addEventListener("end",(()=>{t.Li(),t.nn=void 0,t.N=void 0,t.Y=void 0,t.C=!0,t.Xi()}))}(t);break;case 1:t.Y&&t.Y.session.end()}}.bind(null,ri),window.game=ri}();
</script>
