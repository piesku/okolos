!function(){function t(t,n){let i=t.i.t();for(let e of n)e(t,i);return i}function n(t,n,e){let o=t.createProgram();if(t.attachShader(o,i(t,35633,n)),t.attachShader(o,i(t,35632,e)),t.linkProgram(o),!t.getProgramParameter(o,35714))throw Error(t.getProgramInfoLog(o));return o}function i(t,n,i){let e=t.createShader(n);if(t.shaderSource(e,i),t.compileShader(e),!t.getShaderParameter(e,35713))throw Error(t.getShaderInfoLog(e));return e}function e(t,n,i,e){return t[0]=n,t[1]=i,t[2]=e,t}function o(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function r(t,n,i){return t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function l(t,n,i){return t[0]=n[0]-i[0],t[1]=n[1]-i[1],t[2]=n[2]-i[2],t}function s(t,n,i){return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t}function a(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function c(t,n){let i=n[0],e=n[1],o=n[2],r=i*i+e*e+o*o;return r>0&&(r=1/Math.sqrt(r)),t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function h(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function u(t,n,i){let e=n[0],o=n[1],r=n[2],l=i[3]*e+i[7]*o+i[11]*r+i[15]||1;return t[0]=(i[0]*e+i[4]*o+i[8]*r+i[12])/l,t[1]=(i[1]*e+i[5]*o+i[9]*r+i[13])/l,t[2]=(i[2]*e+i[6]*o+i[10]*r+i[14])/l,t}function f(t,n,i){let e=n[0],o=n[1],r=n[2];return t[0]=i[0]*e+i[4]*o+i[8]*r,t[1]=i[1]*e+i[5]*o+i[9]*r,t[2]=i[2]*e+i[6]*o+i[10]*r,t}function d(t){return Math.hypot(t[0],t[1],t[2])}function v(t,n){let i=n[0],e=n[1],o=n[2],r=n[3],l=n[4],s=n[5],a=n[6],c=n[7],h=n[8],u=n[9],f=n[10],d=n[11],v=n[12],m=n[13],_=n[14],g=n[15],p=i*s-e*l,y=i*a-o*l,w=i*c-r*l,M=e*a-o*s,b=e*c-r*s,A=o*c-r*a,F=h*m-u*v,x=h*_-f*v,T=h*g-d*v,C=u*_-f*m,k=u*g-d*m,P=f*g-d*_,S=p*P-y*k+w*C+M*T-b*x+A*F;return S?(S=1/S,t[0]=(s*P-a*k+c*C)*S,t[1]=(o*k-e*P-r*C)*S,t[2]=(m*A-_*b+g*M)*S,t[3]=(f*b-u*A-d*M)*S,t[4]=(a*T-l*P-c*x)*S,t[5]=(i*P-o*T+r*x)*S,t[6]=(_*w-v*A-g*y)*S,t[7]=(h*A-f*w+d*y)*S,t[8]=(l*k-s*T+c*F)*S,t[9]=(e*T-i*k-r*F)*S,t[10]=(v*b-m*w+g*p)*S,t[11]=(u*w-h*b-d*p)*S,t[12]=(s*x-l*C-a*F)*S,t[13]=(i*C-e*x+o*F)*S,t[14]=(m*y-v*M-_*p)*S,t[15]=(h*M-u*y+f*p)*S,t):null}function m(t,n,i){let e=n[0],o=n[1],r=n[2],l=n[3],s=n[4],a=n[5],c=n[6],h=n[7],u=n[8],f=n[9],d=n[10],v=n[11],m=n[12],_=n[13],g=n[14],p=n[15],y=i[0],w=i[1],M=i[2],b=i[3];return t[0]=y*e+w*s+M*u+b*m,t[1]=y*o+w*a+M*f+b*_,t[2]=y*r+w*c+M*d+b*g,t[3]=y*l+w*h+M*v+b*p,y=i[4],w=i[5],M=i[6],b=i[7],t[4]=y*e+w*s+M*u+b*m,t[5]=y*o+w*a+M*f+b*_,t[6]=y*r+w*c+M*d+b*g,t[7]=y*l+w*h+M*v+b*p,y=i[8],w=i[9],M=i[10],b=i[11],t[8]=y*e+w*s+M*u+b*m,t[9]=y*o+w*a+M*f+b*_,t[10]=y*r+w*c+M*d+b*g,t[11]=y*l+w*h+M*v+b*p,y=i[12],w=i[13],M=i[14],b=i[15],t[12]=y*e+w*s+M*u+b*m,t[13]=y*o+w*a+M*f+b*_,t[14]=y*r+w*c+M*d+b*g,t[15]=y*l+w*h+M*v+b*p,t}function _(t,n,i,e){let o=n[0],r=n[1],l=n[2],s=n[3],a=o+o,c=r+r,h=l+l,u=o*a,f=o*c,d=o*h,v=r*c,m=r*h,_=l*h,g=s*a,p=s*c,y=s*h,w=e[0],M=e[1],b=e[2];return t[0]=(1-(v+_))*w,t[1]=(f+y)*w,t[2]=(d-p)*w,t[3]=0,t[4]=(f-y)*M,t[5]=(1-(u+_))*M,t[6]=(m+g)*M,t[7]=0,t[8]=(d+p)*b,t[9]=(m-g)*b,t[10]=(1-(u+v))*b,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function g(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function p(t,n){let i=t[12]-n[0],e=t[13]-n[1],o=t[14]-n[2];return i*i+e*e+o*o}function y(t,n,i){var e,o;t.o&&0===i.h.l&&(function(t,n,i,e,o){let r,l=1/Math.tan(n/2);t[0]=l/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(r=1/(e-o),t[10]=(o+e)*r,t[14]=2*o*e*r):(t[10]=-1,t[14]=-2*e)}((e=i.h).h,(o=t.u/t.v)>1?e.m:e.m/o,o,e._,e.g),v(e.p,e.h));let r=t.i.M[n];!function(t,n){t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]}(i.A,r.F),m(i.T,i.h.h,i.A),g(i.C,r.i)}function w(t,n,i){let e=t.i.M[n],o=t.k.getViewerPose(t.P);i.S=[];for(let t of o.views){let n={I:t,A:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],C:[0,0,0]};m(n.A,e.i,t.transform.matrix),g(n.C,n.A),v(n.A,n.A),m(n.T,t.projectionMatrix,n.A),i.S.push(n)}}function M(t,n){let i,e,o,r,l,s;g(n.V,t),i=r=n.V[0],e=l=n.V[1],o=s=n.V[2];let a=[0,0,0];for(let c=0;c<8;c++){let h=Ft[c];a[0]=h[0]*n.$[0],a[1]=h[1]*n.$[1],a[2]=h[2]*n.$[2],u(a,a,t),a[0]<i&&(i=a[0]),a[0]>r&&(r=a[0]),a[1]<e&&(e=a[1]),a[1]>l&&(l=a[1]),a[2]<o&&(o=a[2]),a[2]>s&&(s=a[2])}n.X=[i,e,o],n.L=[r,l,s],n.W[0]=(r-i)/2,n.W[1]=(l-e)/2,n.W[2]=(s-o)/2}function b(t,n){let i=t.V[0]-n.V[0],e=t.W[0]+n.W[0]-Math.abs(i),o=t.V[1]-n.V[1],r=t.W[1]+n.W[1]-Math.abs(o),l=t.V[2]-n.V[2],s=t.W[2]+n.W[2]-Math.abs(l);return e<r&&e<s?[e*Math.sign(i),0,0]:r<s?[0,r*Math.sign(o),0]:[0,0,s*Math.sign(l)]}function A(t,n){return t.X[0]<n.L[0]&&t.L[0]>n.X[0]&&t.X[1]<n.L[1]&&t.L[1]>n.X[1]&&t.X[2]<n.L[2]&&t.L[2]>n.X[2]}function F(t,n,i){for(let e=0;e<i;e++){let i=n[e],o=t.B&i.R,r=i.B&t.R;if((o||r)&&A(t,i)){let n=b(t,i);o&&t.D.push({K:i.H,Y:n}),r&&i.D.push({K:t.H,Y:a([0,0,0],n)})}}}function x(t,n,i,e,o){return(t-n)/(i-n)*(o-e)+e}function T(t,n,i,e,o){return t[0]=n,t[1]=i,t[2]=e,t[3]=o,t}function C(t,n,i){let e=n[0],o=n[1],r=n[2],l=n[3],s=i[0],a=i[1],c=i[2],h=i[3];return t[0]=e*h+l*s+o*c-r*a,t[1]=o*h+l*a+r*s-e*c,t[2]=r*h+l*c+e*a-o*s,t[3]=l*h-e*s-o*a-r*c,t}function k(t,n,i,e){let o=Math.sin(n/2*xt),r=Math.cos(n/2*xt),l=Math.sin(i/2*xt),s=Math.cos(i/2*xt),a=Math.sin(e/2*xt),c=Math.cos(e/2*xt);return t[0]=o*s*c+r*l*a,t[1]=r*l*c-o*s*a,t[2]=r*s*a-o*l*c,t[3]=r*s*c+o*l*a,t}function P(t,n,i){let e=i/2;return t[0]=Math.sin(e)*n[0],t[1]=Math.sin(e)*n[1],t[2]=Math.sin(e)*n[2],t[3]=Math.cos(e),t}function S(t,n,i,e){let o,r,l,s,a,c=n[0],h=n[1],u=n[2],f=n[3],d=i[0],v=i[1],m=i[2],_=i[3];return r=c*d+h*v+u*m+f*_,r<0&&(r=-r,d=-d,v=-v,m=-m,_=-_),1-r>1e-6?(o=Math.acos(r),l=Math.sin(o),s=Math.sin((1-e)*o)/l,a=Math.sin(e*o)/l):(s=1-e,a=e),t[0]=s*c+a*d,t[1]=s*h+a*v,t[2]=s*u+a*m,t[3]=s*f+a*_,t}function I(t,n){let i=t.i.N[n],e=t.i.q[n];if(1===e.l){let n=t.G.left;if(null==n?void 0:n.gamepad){let o=n.gamepad.buttons[1];if(o){let n=t.i.M[i.N[0]];n.U[2]=x(o.value,0,1,1,.5),P(n.j,Tt,-o.value),n.O=!0,e.J=o.value>.5}}}if(2===e.l){let n=t.G.right;if(null==n?void 0:n.gamepad){let o=n.gamepad.buttons[1];if(o){let n=t.i.M[i.N[0]];n.U[2]=x(o.value,0,1,1,.5),P(n.j,Tt,o.value),n.O=!0,e.J=o.value>.5}}}}function V(t,n){let i=t.i.M[n];if(0===t.i.Z[n].l){let e=t.i.tt[n],s=t.i.N[n].N[0],a=t.i.M[s],c=t.i.N[s],h=t.i.M[c.N[1]],u=t.G.left;if(null==u?void 0:u.gamepad){let t=-u.gamepad.axes[2];if(t){let n=[t,0,0];f(n,n,h.i),n[1]=0,r(e.nt,e.nt,n)}let n=-u.gamepad.axes[3];if(n){let t=[0,0,n];f(t,t,h.i),t[1]=0,r(e.nt,e.nt,t)}}if(d(e.nt)>0){let t=.03,n=5;a.it[1]=(Math.sin(n*i.it[0])+Math.sin(n*i.it[2]))*t,a.O=!0}let v=t.G.right;if(null==v?void 0:v.gamepad){let t=-v.gamepad.axes[2];if(t){let n=P([0,0,0,1],Ct,t*Math.PI);C(e.et,e.et,n)}}let m=c.N[2],_=t.i.q[m],p=c.N[3],y=t.i.q[p];if(m&&(null==_?void 0:_.J)){let n=t.i.M[m];kt?(g(St,n.i),l(It,Pt,St),o(Pt,St),r(i.it,i.it,It),i.O=!0):(kt=!0,g(Pt,n.i))}else kt&&(kt=!1);if(p&&(null==y?void 0:y.J)){let n=t.i.M[p];Vt?(g(Xt,n.i),l(Lt,$t,Xt),o($t,Xt),r(i.it,i.it,Lt),i.O=!0):(Vt=!0,g($t,n.i))}else Vt&&(Vt=!1)}}function $(t,n){let i=t.i.M[n],e=t.i.q[n];if(0===e.l){let n=t.k.getViewerPose(t.P);return i.i=n.transform.matrix,void(i.O=!0)}if(1!==e.l)if(2!==e.l);else{let n=t.G.right;if(n){let e=t.k.getPose(n.gripSpace,t.P);e&&(i.i=e.transform.matrix,i.O=!0)}}else{let n=t.G.left;if(n){let e=t.k.getPose(n.gripSpace,t.P);e&&(i.i=e.transform.matrix,i.O=!0)}}}function X(t,n,i){return(e,o)=>{if(!Wt.has(n)){let i=e.ot.createVertexArray();e.ot.bindVertexArray(i),e.ot.bindBuffer(ot,n.rt),e.ot.enableVertexAttribArray(t.st.lt),e.ot.vertexAttribPointer(t.st.lt,3,ct,!1,0,0),e.ot.bindBuffer(rt,n.ct),e.ot.bindVertexArray(null),Wt.set(n,i)}e.i.ht[o]|=128,e.i.ut[o]={l:0,ft:t,dt:n,vt:i[3]<1?1:0,_t:lt,gt:Wt.get(n),yt:i}}}function L(t,n,i,e=0,o=[1,1,1,1],r=2304){return(l,s)=>{if(!zt.has(n)){let i=l.ot.createVertexArray();l.ot.bindVertexArray(i),l.ot.bindBuffer(ot,n.rt),l.ot.enableVertexAttribArray(t.st.lt),l.ot.vertexAttribPointer(t.st.lt,3,ct,!1,0,0),l.ot.bindBuffer(ot,n.wt),l.ot.enableVertexAttribArray(t.st.Mt),l.ot.vertexAttribPointer(t.st.Mt,3,ct,!1,0,0),l.ot.bindBuffer(rt,n.ct),l.ot.bindVertexArray(null),zt.set(n,i)}l.i.ht[s]|=128,l.i.ut[s]={l:1,ft:t,dt:n,vt:i[3]<1?1:0,_t:r,gt:zt.get(n),bt:i,At:o,Ft:e}}}function W(t,n,i,e=2304){return(o,r)=>{let l=o.xt,s=o.ot.createVertexArray();o.ot.bindVertexArray(s),o.ot.bindBuffer(ot,t.rt),o.ot.enableVertexAttribArray(l.st.lt),o.ot.vertexAttribPointer(l.st.lt,3,ct,!1,0,0);let a=o.ot.createBuffer();o.ot.bindBuffer(ot,a),o.ot.bufferData(ot,n,et),o.ot.enableVertexAttribArray(l.st.Tt),o.ot.vertexAttribPointer(l.st.Tt,4,ct,!1,64,0),o.ot.vertexAttribDivisor(l.st.Tt,1),o.ot.enableVertexAttribArray(l.st.Ct),o.ot.vertexAttribPointer(l.st.Ct,4,ct,!1,64,16),o.ot.vertexAttribDivisor(l.st.Ct,1),o.ot.enableVertexAttribArray(l.st.kt),o.ot.vertexAttribPointer(l.st.kt,4,ct,!1,64,32),o.ot.vertexAttribDivisor(l.st.kt,1),o.ot.enableVertexAttribArray(l.st.Pt),o.ot.vertexAttribPointer(l.st.Pt,4,ct,!1,64,48),o.ot.vertexAttribDivisor(l.st.Pt,1);let c=o.ot.createBuffer();o.ot.bindBuffer(ot,c),o.ot.bufferData(ot,i,et),o.ot.enableVertexAttribArray(l.st.St),o.ot.vertexAttribPointer(l.st.St,3,ct,!1,0,0),o.ot.vertexAttribDivisor(l.st.St,1),o.ot.bindBuffer(rt,t.ct),o.ot.bindVertexArray(null),o.i.ht[r]|=128,o.i.ut[r]={l:8,ft:l,vt:0,dt:t,gt:s,It:n.length/16,Vt:a,_t:e}}}function z(t=[0,0,0],n=[0,0,0,1],i=[1,1,1]){return(e,o)=>{e.i.ht[o]|=512,e.i.M[o]={i:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],it:t,j:n,U:i,O:!0}}}function B(n,i){let e=n.i.M[i];if(!Bt.get(e)){let o=t(n,[z(),X(n.$t,n.Xt,[1,0,1,1])]),r=n.i.M[o];r.i=e.i,r.O=!1,Bt.set(e,{entity:o,transform:r,anchor_entity:i,anchor_transform:e})}}function R(n,i){let e=n.i.M[i],o=n.i.Lt[i],r=Bt.get(o);if(!r){let l=t(n,[z(o.V,void 0,s([0,0,0],o.W,2)),X(n.$t,n.Xt,[0,1,0,1])]);r={entity:l,transform:n.i.M[l],anchor_entity:i,anchor_transform:e},Bt.set(o,r)}o.Wt&&(r.transform.it=o.V,s(r.transform.U,o.W,2),r.transform.O=!0);let l=n.i.ut[r.entity];0===l.l&&(l.yt[2]=o.D.length>0?1:0)}function D(t,n,i){let e=t.i.zt[n];g(Rt,t.i.M[n].i),1===e.l&&c(Rt,Rt),t.Bt[4*i+0]=Rt[0],t.Bt[4*i+1]=Rt[1],t.Bt[4*i+2]=Rt[2],t.Bt[4*i+3]=e.l,t.Rt[4*i+0]=e.yt[0],t.Rt[4*i+1]=e.yt[1],t.Rt[4*i+2]=e.yt[2],t.Rt[4*i+3]=e.Dt}function E(t,n,i){let o=t.i.M[n],l=t.i.tt[n];if(0!==l.nt[0]||0!==l.nt[1]||0!==l.nt[2]){let n=Math.min(1,d(l.nt));f(l.nt,l.nt,o.i),void 0!==o.Et&&f(l.nt,l.nt,t.i.M[o.Et].F),c(l.nt,l.nt),s(l.nt,l.nt,n*l.Kt*i),r(o.it,o.it,l.nt),o.O=!0,e(l.nt,0,0,0)}1!==l.et[3]&&(S(l.et,Dt,l.et,Math.min(1,l.Ht/Math.PI*i)),C(o.j,l.et,o.j),o.O=!0,T(l.et,0,0,0,1)),1!==l.Yt[3]&&(S(l.Yt,Dt,l.Yt,Math.min(1,l.Ht/Math.PI*i)),C(o.j,o.j,l.Yt),o.O=!0,T(l.Yt,0,0,0,1))}function K(t,n,i){let l=t.i.M[n],a=t.i.Nt[n];if(1===a.l){o(a.qt,a.Gt),s(a.Ut,a.Ut,i),r(a.qt,a.qt,a.Ut),a.qt[1]+=-9.81*i;let t=[0,0,0];s(t,a.qt,i),r(l.it,l.it,t),l.O=!0,e(a.Ut,0,0,0)}}function H(t,n,i){let e=t.i.Nt[n];if(2===e.l){let r=[0,0,0];g(r,t.i.M[n].i);let a=[0,0,0];l(a,r,e.jt),s(e.qt,a,1/i),o(e.jt,r)}}function Y(t,n){let i=t.i.M[n],e=t.i.Lt[n],l=t.i.Nt[n];if(1===l.l){l.Ot=!0;let n=!1;for(let a=0;a<e.D.length;a++){let u=e.D[a];if(256&t.i.ht[u.K]){n=!0,r(i.it,i.it,u.Y),i.O=!0;let e=t.i.Nt[u.K];switch(e.l){case 0:c(Kt,u.Y),s(Kt,Kt,-2*h(l.qt,Kt)),r(l.Gt,l.qt,Kt);break;case 1:case 2:o(l.Gt,e.qt)}s(l.Gt,l.Gt,l.Jt),u.Y[1]>0&&l.Gt[1]<1&&(l.Gt[1]=0,l.Ot=!1)}}n||o(l.Gt,l.qt)}}function N(t,n,i){let e=null,o=null,r=[];for(let l=0;l<t.i.ht.length;l++)if(640==(640&t.i.ht[l])){let s=t.i.ut[l];if(1===s.vt){r.push(l);continue}s.ft!==e&&(e=s.ft,q(t,s,n)),s._t!==o&&(o=s._t,t.ot.frontFace(s._t)),G(t,l,i)}r.sort(((i,e)=>{let o=t.i.M[i];return p(t.i.M[e].i,n.C)-p(o.i,n.C)})),t.ot.enable(3042);for(let l=0;l<r.length;l++){let s=r[l],a=t.i.ut[s];a.ft!==e&&(e=a.ft,q(t,a,n)),a._t!==o&&(o=a._t,t.ot.frontFace(a._t)),G(t,s,i)}t.ot.disable(3042)}function q(t,n,i){switch(n.l){case 0:case 4:case 7:t.ot.useProgram(n.ft.Qt),t.ot.uniformMatrix4fv(n.ft.st.T,!1,i.T);break;case 1:t.ot.useProgram(n.ft.Qt),t.ot.uniformMatrix4fv(n.ft.st.T,!1,i.T),t.ot.uniform3fv(n.ft.st.Zt,i.C),t.ot.uniform4fv(n.ft.st.Bt,t.Bt),t.ot.uniform4fv(n.ft.st.Rt,t.Rt),t.ot.uniform4fv(n.ft.st.tn,t.nn),t.ot.uniform1f(n.ft.st.en,t.en);break;case 5:case 6:t.ot.useProgram(n.ft.Qt),t.ot.uniformMatrix4fv(n.ft.st.T,!1,i.T),t.ot.uniform3fv(n.ft.st.Zt,i.C),t.ot.uniform4fv(n.ft.st.Bt,t.Bt),t.ot.uniform4fv(n.ft.st.Rt,t.Rt);break;case 8:t.ot.useProgram(n.ft.Qt),t.ot.uniformMatrix4fv(n.ft.st.T,!1,i.T),t.ot.uniform3fv(n.ft.st.Zt,i.C),t.ot.uniform4fv(n.ft.st.tn,t.nn),t.ot.uniform1f(n.ft.st.en,t.en)}}function G(t,n,i){let e=t.i.M[n],o=t.i.ut[n];switch(o.l){case 0:t.ot.uniformMatrix4fv(o.ft.st.i,!1,e.i),t.ot.uniform4fv(o.ft.st.yt,o.yt),t.ot.bindVertexArray(o.gt),t.ot.drawElements(o.ft.on,o.dt.rn,at,0),t.ot.bindVertexArray(null);break;case 1:t.ot.uniformMatrix4fv(o.ft.st.i,!1,e.i),t.ot.uniformMatrix4fv(o.ft.st.F,!1,e.F),t.ot.uniform4fv(o.ft.st.bt,o.bt),t.ot.uniform4fv(o.ft.st.At,o.At),t.ot.uniform1f(o.ft.st.Ft,o.Ft),t.ot.bindVertexArray(o.gt),t.ot.drawElements(o.ft.on,o.dt.rn,at,0),t.ot.bindVertexArray(null);break;case 4:if(o.ln===i)break;t.ot.uniformMatrix4fv(o.ft.st.i,!1,e.i),t.ot.uniform4fv(o.ft.st.yt,o.yt),t.ot.activeTexture(33984),t.ot.bindTexture(st,o.ln),t.ot.uniform1i(o.ft.st.sn,0),t.ot.bindVertexArray(o.gt),t.ot.drawElements(o.ft.on,o.dt.rn,at,0),t.ot.bindVertexArray(null);break;case 5:if(o.ln===i)break;t.ot.uniformMatrix4fv(o.ft.st.i,!1,e.i),t.ot.uniformMatrix4fv(o.ft.st.F,!1,e.F),t.ot.uniform4fv(o.ft.st.bt,o.bt),t.ot.uniform4fv(o.ft.st.At,o.At),t.ot.uniform1f(o.ft.st.Ft,o.Ft),t.ot.activeTexture(33984),t.ot.bindTexture(st,o.ln),t.ot.uniform1i(o.ft.st.an,0),t.ot.bindVertexArray(o.gt),t.ot.drawElements(o.ft.on,o.dt.rn,at,0),t.ot.bindVertexArray(null);break;case 7:t.ot.uniformMatrix4fv(o.ft.st.i,!1,e.i),t.ot.uniform4fv(o.ft.st.yt,o.yt),t.ot.bindBuffer(ot,o.rt),t.ot.enableVertexAttribArray(o.ft.st.lt),t.ot.vertexAttribPointer(o.ft.st.lt,3,ct,!1,0,0),t.ot.drawArrays(o.ft.on,0,o.rn);break;case 6:t.ot.uniformMatrix4fv(o.ft.st.i,!1,e.i),t.ot.uniformMatrix4fv(o.ft.st.F,!1,e.F),t.ot.uniform4fv(o.ft.st.bt,o.bt),t.ot.activeTexture(33985),t.ot.bindTexture(st,o.an),t.ot.uniform1i(o.ft.st.an,1),t.ot.activeTexture(33986),t.ot.bindTexture(st,o.cn),t.ot.uniform1i(o.ft.st.cn,2),t.ot.activeTexture(33987),t.ot.bindTexture(st,o.hn),t.ot.uniform1i(o.ft.st.hn,3),t.ot.bindVertexArray(o.gt),t.ot.drawElements(o.ft.on,o.dt.rn,at,0),t.ot.bindVertexArray(null);break;case 8:t.ot.uniformMatrix4fv(o.ft.st.i,!1,e.i),t.ot.bindVertexArray(o.gt),t.ot.drawElementsInstanced(o.ft.on,o.dt.rn,at,0,Math.floor(o.It)),t.ot.bindVertexArray(null)}}function U(t,n){for(let n=0;n<t.i.ht.length;n++)if(512==(512&t.i.ht[n])){let i=t.i.M[n];i.O&&j(t,n,i)}}function j(t,n,i){if(i.O=!1,t.k&&16&t.i.ht[n]||_(i.i,i.j,i.it,i.U),void 0!==i.Et&&m(i.i,t.i.M[i.Et].i,i.i),v(i.F,i.i),2&t.i.ht[n]){let i=t.i.N[n];for(let e of i.N)if(512&t.i.ht[e]){let i=t.i.M[e];i.Et=n,j(t,e,i)}}}function O(t,...n){return t.reduce(((t,i)=>t+function(t){let n=t.shift();return"boolean"==typeof n||null==n?"":Array.isArray(n)?n.join(""):n}(n)+i))}function J(t=0,n=1){return Yt=16807*Yt%2147483647,(Yt-1)/2147483646*(n-t)+t}function Q(...n){return(i,e)=>{let o=[];for(let e of n){let n=t(i,e);o.push(n)}i.i.ht[e]|=2,i.i.N[e]={N:o}}}function Z(t){return(n,i)=>{n.i.ht[i]|=16,n.i.q[i]={l:t,J:!1}}}function tt(t){return[(t,n)=>{t.i.ht[n]|=8,t.i.Z[n]={l:0}},(t,n)=>{t.i.ht[n]|=64,t.i.tt[n]={Kt:2,Ht:1,nt:[0,0,0],et:[0,0,0,1],Yt:[0,0,0,1]}},Q([z(void 0,[0,1,0,0]),Q([z(),(t,n)=>{t.i.ht[n]|=1,t.i.un[n]={l:1,S:[]}}],[z(),Z(0)],[z(),Z(1),Q([z(void 0,void 0,[-1,1,1]),L(t.fn,t.dn,[1,1,.3,1],0,[1,1,1,1],2305)])],[z(),Z(2),Q([z(),L(t.fn,t.dn,[1,1,.3,1],0,[1,1,1,1],lt)])])])]}function nt(t,n,i,e=[1,1,1]){return(o,r)=>{o.i.ht[r]|=4,o.i.Lt[r]={H:r,vn:!0,Wt:t,R:n,B:i,$:e,X:[0,0,0],L:[0,0,0],V:[0,0,0],W:[0,0,0],D:[]}}}function it(t=[1,1,1],n=1){return(i,e)=>{i.i.ht[e]|=32,i.i.zt[e]={l:1,yt:t,Dt:n**2}}}const et=35044,ot=34962,rt=34963,lt=2304,st=3553,at=5123,ct=5126,ht=document.getElementById("update"),ut=document.getElementById("delta"),ft=document.getElementById("fps"),dt=1/60;let vt=Float32Array.from([-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),mt=Float32Array.from([-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0]),_t=Float32Array.from([.666667,.333333,.333333,.333333,.333333,0,.666667,0,.333333,.666667,0,.666667,0,.333333,.333333,.333333,.333333,.333333,0,.333333,0,0,.333333,0,.333333,.666667,.333333,.333333,.666667,.333333,.666667,.666667,1,.333333,.666667,.333333,.666667,0,1,0,.333333,.666667,.333333,1,0,1,0,.666667]),gt=Float32Array.from([]),pt=Uint16Array.from([23,22,20,22,21,20,19,18,16,18,17,16,15,14,12,14,13,12,11,10,8,10,9,8,7,6,4,6,5,4,3,2,0,2,1,0]),yt=Float32Array.from([-.001385,.0289,.08506,.012262,.02891,.084294,.008816,.03592,-.006425,-.008054,.035631,-.005256,-.008054,.035631,-.005256,.008816,.03592,-.006425,.010208,-.054815,-.008776,-.006663,-.055104,-.007608,-.006663,-.055104,-.007608,.010208,-.054815,-.008776,.012769,-.050857,.082463,-877e-6,-.050867,.083229,-877e-6,-.050867,.083229,.012769,-.050857,.082463,.012262,.02891,.084294,-.001385,.0289,.08506,-.008054,.035631,-.005256,-.006663,-.055104,-.007608,-877e-6,-.050867,.083229,-.001385,.0289,.08506,.010208,-.054815,-.008776,.008816,.03592,-.006425,.012262,.02891,.084294,.012769,-.050857,.082463,-.010561,.034481,-.00819,.005581,.036289,-.012904,-.007908,.039624,-.057817,-.02405,.037816,-.053103,-.02405,.037816,-.053103,-.007908,.039624,-.057817,-.006305,.020333,-.059731,-.022448,.018524,-.055017,-.022448,.018524,-.055017,-.006305,.020333,-.059731,.007184,.016998,-.014818,-.008958,.015189,-.010104,-.008958,.015189,-.010104,.007184,.016998,-.014818,.005581,.036289,-.012904,-.010561,.034481,-.00819,-.02405,.037816,-.053103,-.022448,.018524,-.055017,-.008958,.015189,-.010104,-.010561,.034481,-.00819,-.006305,.020333,-.059731,-.007908,.039624,-.057817,.005581,.036289,-.012904,.007184,.016998,-.014818,-.008492,.008946,-.009729,.007589,.010819,-.014622,-.008373,.012793,-.066324,-.024454,.01092,-.06143,-.024454,.01092,-.06143,-.008373,.012793,-.066324,-.006521,-.006527,-.067633,-.022602,-.0084,-.06274,-.022602,-.0084,-.06274,-.006521,-.006527,-.067633,.009441,-.008501,-.015931,-.006641,-.010374,-.011038,-.006641,-.010374,-.011038,.009441,-.008501,-.015931,.007589,.010819,-.014622,-.008492,.008946,-.009729,-.024454,.01092,-.06143,-.022602,-.0084,-.06274,-.006641,-.010374,-.011038,-.008492,.008946,-.009729,-.006521,-.006527,-.067633,-.008373,.012793,-.066324,.007589,.010819,-.014622,.009441,-.008501,-.015931,-.007242,-.014884,-.010548,.009032,-.014337,-.015124,-.002639,-.013896,-.05658,-.018912,-.014444,-.052005,-.018912,-.014444,-.052005,-.002639,-.013896,-.05658,-.002139,-.03151,-.056908,-.018412,-.032057,-.052333,-.018412,-.032057,-.052333,-.002139,-.03151,-.056908,.009532,-.031951,-.015452,-.006741,-.032498,-.010876,-.006741,-.032498,-.010876,.009532,-.031951,-.015452,.009032,-.014337,-.015124,-.007242,-.014884,-.010548,-.018912,-.014444,-.052005,-.018412,-.032057,-.052333,-.006741,-.032498,-.010876,-.007242,-.014884,-.010548,-.002139,-.03151,-.056908,-.002639,-.013896,-.05658,.009032,-.014337,-.015124,.009532,-.031951,-.015452,-.025175,.037965,-.05345,-.01111,.03996,-.06263,-.033807,.04235,-.096885,-.047871,.040354,-.087705,-.047871,.040354,-.087705,-.033807,.04235,-.096885,-.03251,.023066,-.09909,-.046574,.021071,-.08991,-.046574,.021071,-.08991,-.03251,.023066,-.09909,-.009813,.020677,-.064835,-.023878,.018681,-.055655,-.023878,.018681,-.055655,-.009813,.020677,-.064835,-.01111,.03996,-.06263,-.025175,.037965,-.05345,-.047871,.040354,-.087705,-.046574,.021071,-.08991,-.023878,.018681,-.055655,-.025175,.037965,-.05345,-.03251,.023066,-.09909,-.033807,.04235,-.096885,-.01111,.03996,-.06263,-.009813,.020677,-.064835,-.025824,.011507,-.061474,-.011587,.013391,-.070407,-.034379,.014488,-.106501,-.048617,.012604,-.097568,-.048617,.012604,-.097568,-.034379,.014488,-.106501,-.032811,-.004837,-.108078,-.047049,-.006721,-.099145,-.047049,-.006721,-.099145,-.032811,-.004837,-.108078,-.010019,-.005934,-.071984,-.024257,-.007818,-.063051,-.024257,-.007818,-.063051,-.010019,-.005934,-.071984,-.011587,.013391,-.070407,-.025824,.011507,-.061474,-.048617,.012604,-.097568,-.047049,-.006721,-.099145,-.024257,-.007818,-.063051,-.025824,.011507,-.061474,-.032811,-.004837,-.108078,-.034379,.014488,-.106501,-.011587,.013391,-.070407,-.010019,-.005934,-.071984,-.019676,-.014397,-.052382,-.005143,-.013823,-.061015,-.025188,-.013764,-.094755,-.039721,-.014337,-.086122,-.039721,-.014337,-.086122,-.025188,-.013764,-.094755,-.024684,-.031529,-.095086,-.039217,-.032102,-.086453,-.039217,-.032102,-.086453,-.024684,-.031529,-.095086,-.004639,-.031588,-.061346,-.019171,-.032161,-.052713,-.019171,-.032161,-.052713,-.004639,-.031588,-.061346,-.005143,-.013823,-.061015,-.019676,-.014397,-.052382,-.039721,-.014337,-.086122,-.039217,-.032102,-.086453,-.019171,-.032161,-.052713,-.019676,-.014397,-.052382,-.024684,-.031529,-.095086,-.025188,-.013764,-.094755,-.005143,-.013823,-.061015,-.004639,-.031588,-.061346,-.009989,.051511,.065661,-561e-6,.065343,.064337,-.015486,.071823,.02576,-.024915,.057991,.027085,-.024915,.057991,.027085,-.015486,.071823,.02576,815e-6,.059916,.017453,-.008614,.046083,.018777,-.008614,.046083,.018777,815e-6,.059916,.017453,.015741,.053436,.056029,.006312,.039604,.057354,.006312,.039604,.057354,.015741,.053436,.056029,-561e-6,.065343,.064337,-.009989,.051511,.065661,-.024915,.057991,.027085,-.008614,.046083,.018777,.006312,.039604,.057354,-.009989,.051511,.065661,815e-6,.059916,.017453,-.015486,.071823,.02576,-561e-6,.065343,.064337,.015741,.053436,.056029,-.006725,-.038551,-.010014,.009467,-.038227,-.01489,-.001353,-.039097,-.050876,-.017545,-.039421,-.046,-.017545,-.039421,-.046,-.001353,-.039097,-.050876,-955e-6,-.054994,-.050612,-.017147,-.055318,-.045736,-.017147,-.055318,-.045736,-955e-6,-.054994,-.050612,.009864,-.054125,-.014626,-.006328,-.054449,-.009749,-.006328,-.054449,-.009749,.009864,-.054125,-.014626,.009467,-.038227,-.01489,-.006725,-.038551,-.010014,-.017545,-.039421,-.046,-.017147,-.055318,-.045736,-.006328,-.054449,-.009749,-.006725,-.038551,-.010014,-955e-6,-.054994,-.050612,-.001353,-.039097,-.050876,.009467,-.038227,-.01489,.009864,-.054125,-.014626,-.017719,-.039433,-.047417,-.002918,-.039345,-.055601,-.018668,-.039437,-.084087,-.033469,-.039526,-.075902,-.033469,-.039526,-.075902,-.018668,-.039437,-.084087,-.018572,-.055552,-.084087,-.033373,-.05564,-.075903,-.033373,-.05564,-.075903,-.018572,-.055552,-.084087,-.002821,-.055459,-.055602,-.017623,-.055548,-.047418,-.017623,-.055548,-.047418,-.002821,-.055459,-.055602,-.002918,-.039345,-.055601,-.017719,-.039433,-.047417,-.033469,-.039526,-.075902,-.033373,-.05564,-.075903,-.017623,-.055548,-.047418,-.017719,-.039433,-.047417,-.018572,-.055552,-.084087,-.018668,-.039437,-.084087,-.002918,-.039345,-.055601,-.002821,-.055459,-.055602,-.025987,.058941,.023445,-.01855,.073332,.019022,-.036803,.072894,-.013094,-.04424,.058503,-.008671,-.04424,.058503,-.008671,-.036803,.072894,-.013094,-.020471,.061648,-.022223,-.027908,.047257,-.017799,-.027908,.047257,-.017799,-.020471,.061648,-.022223,-.002218,.062086,.009893,-.009655,.047695,.014317,-.009655,.047695,.014317,-.002218,.062086,.009893,-.01855,.073332,.019022,-.025987,.058941,.023445,-.04424,.058503,-.008671,-.027908,.047257,-.017799,-.009655,.047695,.014317,-.025987,.058941,.023445,-.020471,.061648,-.022223,-.036803,.072894,-.013094,-.01855,.073332,.019022,-.002218,.062086,.009893]),wt=Float32Array.from([-.005,.9971,.076,-.005,.9971,.076,-.005,.9971,.076,-.005,.9971,.076,-.0695,.0248,-.9973,-.0695,.0248,-.9973,-.0695,.0248,-.9973,-.0695,.0248,-.9973,.0126,-.9989,.0444,.0126,-.9989,.0444,.0126,-.9989,.0444,.0126,-.9989,.0444,.056,-.0226,.9982,.056,-.0226,.9982,.056,-.0226,.9982,.056,-.0226,.9982,-.9976,-.0128,.0684,-.9976,-.0128,.0684,-.9976,-.0128,.0684,-.9976,-.0128,.0684,.9994,.0119,-.0328,.9994,.0119,-.0328,.9994,.0119,-.0328,.9994,.0119,-.0328,-.0824,.9917,.0984,-.0824,.9917,.0984,-.0824,.9917,.0984,-.0824,.9917,.0984,-.2869,.0709,-.9553,-.2869,.0709,-.9553,-.2869,.0709,-.9553,-.2869,.0709,-.9553,.0824,-.9917,-.0984,.0824,-.9917,-.0984,.0824,-.9917,-.0984,.0824,-.9917,-.0984,.2869,-.0709,.9553,.2869,-.0709,.9553,.2869,-.0709,.9553,.2869,-.0709,.9553,-.9544,-.1069,.2787,-.9544,-.1069,.2787,-.9544,-.1069,.2787,-.9544,-.1069,.2787,.9544,.1069,-.2787,.9544,.1069,-.2787,.9544,.1069,-.2787,.9544,.1069,-.2787,-.0952,.9932,.0673,-.0952,.9932,.0673,-.0952,.9932,.0673,-.0952,.9932,.0673,-.2948,.0365,-.9549,-.2948,.0365,-.9549,-.2948,.0365,-.9549,-.2948,.0365,-.9549,.0952,-.9932,-.0673,.0952,-.9932,-.0673,.0952,-.9932,-.0673,.0952,-.9932,-.0673,.2948,-.0365,.9549,.2948,-.0365,.9549,.2948,-.0365,.9549,.2948,-.0365,.9549,-.9508,-.1107,.2893,-.9508,-.1107,.2893,-.9508,-.1107,.2893,-.9508,-.1107,.2893,.9508,.1107,-.2893,.9508,.1107,-.2893,.9508,.1107,-.2893,.9508,.1107,-.2893,-.0284,.9994,.0186,-.0284,.9994,.0186,-.0284,.9994,.0186,-.0284,.9994,.0186,-.271,.0102,-.9625,-.271,.0102,-.9625,-.271,.0102,-.9625,-.271,.0102,-.9625,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.271,-.0102,.9625,.271,-.0102,.9625,.271,-.0102,.9625,.271,-.0102,.9625,-.9622,-.0324,.2705,-.9622,-.0324,.2705,-.9622,-.0324,.2705,-.9622,-.0324,.2705,.9622,.0324,-.2705,.9622,.0324,-.2705,.9622,.0324,-.2705,.9622,.0324,-.2705,-.0667,.9913,.1133,-.0667,.9913,.1133,-.0667,.9913,.1133,-.0667,.9913,.1133,-.5514,.0581,-.8322,-.5514,.0581,-.8322,-.5514,.0581,-.8322,-.5514,.0581,-.8322,.0667,-.9913,-.1133,.0667,-.9913,-.1133,.0667,-.9913,-.1133,.0667,-.9913,-.1133,.5514,-.0581,.8322,.5514,-.0581,.8322,.5514,-.0581,.8322,.5514,-.0581,.8322,-.8316,-.118,.5427,-.8316,-.118,.5427,-.8316,-.118,.5427,-.8316,-.118,.5427,.8316,.118,-.5427,.8316,.118,-.5427,.8316,.118,-.5427,.8316,.118,-.5427,-.0806,.9934,.0811,-.0806,.9934,.0811,-.0806,.9934,.0811,-.0806,.9934,.0811,-.5338,.0257,-.8453,-.5338,.0257,-.8453,-.5338,.0257,-.8453,-.5338,.0257,-.8453,.0806,-.9934,-.0811,.0806,-.9934,-.0811,.0806,-.9934,-.0811,.0806,-.9934,-.0811,.5338,-.0257,.8453,.5338,-.0257,.8453,.5338,-.0257,.8453,.5338,-.0257,.8453,-.8418,-.1114,.5282,-.8418,-.1114,.5282,-.8418,-.1114,.5282,-.8418,-.1114,.5282,.8418,.1114,-.5282,.8418,.1114,-.5282,.8418,.1114,-.5282,.8418,.1114,-.5282,-.0284,.9994,.0186,-.0284,.9994,.0186,-.0284,.9994,.0186,-.0284,.9994,.0186,-.5108,.0015,-.8597,-.5108,.0015,-.8597,-.5108,.0015,-.8597,-.5108,.0015,-.8597,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.0284,-.9994,-.0186,.5108,-.0015,.8597,.5108,-.0015,.8597,.5108,-.0015,.8597,.5108,-.0015,.8597,-.8592,-.0339,.5104,-.8592,-.0339,.5104,-.8592,-.0339,.5104,-.8592,-.0339,.5104,.8592,.0339,-.5104,.8592,.0339,-.5104,.8592,.0339,-.5104,.8592,.0339,-.5104,-.7468,.5455,.3806,-.7468,.5455,.3806,-.7468,.5455,.3806,-.7468,.5455,.3806,-.3565,.1548,-.9214,-.3565,.1548,-.9214,-.3565,.1548,-.9214,-.3565,.1548,-.9214,.7468,-.5455,-.3806,.7468,-.5455,-.3806,.7468,-.5455,-.3806,.7468,-.5455,-.3806,.3565,-.1548,.9214,.3565,-.1548,.9214,.3565,-.1548,.9214,.3565,-.1548,.9214,-.5615,-.8237,.0789,-.5615,-.8237,.0789,-.5615,-.8237,.0789,-.5615,-.8237,.0789,.5615,.8237,-.0789,.5615,.8237,-.0789,.5615,.8237,-.0789,.5615,.8237,-.0789,-.025,.9995,-.0166,-.025,.9995,-.0166,-.025,.9995,-.0166,-.025,.9995,-.0166,-.2879,-.0231,-.9574,-.2879,-.0231,-.9574,-.2879,-.0231,-.9574,-.2879,-.0231,-.9574,.025,-.9995,.0166,.025,-.9995,.0166,.025,-.9995,.0166,.025,-.9995,.0166,.2879,.0231,.9574,.2879,.0231,.9574,.2879,.0231,.9574,.2879,.0231,.9574,-.9573,-.0191,.2883,-.9573,-.0191,.2883,-.9573,-.0191,.2883,-.9573,-.0191,.2883,.9573,.0191,-.2883,.9573,.0191,-.2883,.9573,.0191,-.2883,.9573,.0191,-.2883,-.006,1,1e-4,-.006,1,1e-4,-.006,1,1e-4,-.006,1,1e-4,-.4839,-.0028,-.8751,-.4839,-.0028,-.8751,-.4839,-.0028,-.8751,-.4839,-.0028,-.8751,.006,-1,-1e-4,.006,-1,-1e-4,.006,-1,-1e-4,.006,-1,-1e-4,.4839,.0028,.8751,.4839,.0028,.8751,.4839,.0028,.8751,.4839,.0028,.8751,-.8751,-.0052,.4839,-.8751,-.0052,.4839,-.8751,-.0052,.4839,-.8751,-.0052,.4839,.8751,.0052,-.4839,.8751,.0052,-.4839,.8751,.0052,-.4839,.8751,.0052,-.4839,-.7482,.5152,.4182,-.7482,.5152,.4182,-.7482,.5152,.4182,-.7482,.5152,.4182,-.4941,-.0119,-.8693,-.4941,-.0119,-.8693,-.4941,-.0119,-.8693,-.4941,-.0119,-.8693,.7482,-.5152,-.4182,.7482,-.5152,-.4182,.7482,-.5152,-.4182,.7482,-.5152,-.4182,.4941,.0119,.8693,.4941,.0119,.8693,.4941,.0119,.8693,.4941,.0119,.8693,-.4429,-.857,.2634,-.4429,-.857,.2634,-.4429,-.857,.2634,-.4429,-.857,.2634,.4429,.857,-.2634,.4429,.857,-.2634,.4429,.857,-.2634,.4429,.857,-.2634]),Mt=Float32Array.from([.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75,.375,0,.625,0,.625,.25,.375,.25,.375,.25,.625,.25,.625,.5,.375,.5,.375,.5,.625,.5,.625,.75,.375,.75,.375,.75,.625,.75,.625,1,.375,1,.125,.5,.375,.5,.375,.75,.125,.75,.625,.5,.875,.5,.875,.75,.625,.75]),bt=Float32Array.from([]),At=Uint16Array.from([263,262,260,262,261,260,259,258,256,258,257,256,255,254,252,254,253,252,251,250,248,250,249,248,247,246,244,246,245,244,243,242,240,242,241,240,239,238,236,238,237,236,235,234,232,234,233,232,231,230,228,230,229,228,227,226,224,226,225,224,223,222,220,222,221,220,219,218,216,218,217,216,215,214,212,214,213,212,211,210,208,210,209,208,207,206,204,206,205,204,203,202,200,202,201,200,199,198,196,198,197,196,195,194,192,194,193,192,191,190,188,190,189,188,187,186,184,186,185,184,183,182,180,182,181,180,179,178,176,178,177,176,175,174,172,174,173,172,171,170,168,170,169,168,167,166,164,166,165,164,163,162,160,162,161,160,159,158,156,158,157,156,155,154,152,154,153,152,151,150,148,150,149,148,147,146,144,146,145,144,143,142,140,142,141,140,139,138,136,138,137,136,135,134,132,134,133,132,131,130,128,130,129,128,127,126,124,126,125,124,123,122,120,122,121,120,119,118,116,118,117,116,115,114,112,114,113,112,111,110,108,110,109,108,107,106,104,106,105,104,103,102,100,102,101,100,99,98,96,98,97,96,95,94,92,94,93,92,91,90,88,90,89,88,87,86,84,86,85,84,83,82,80,82,81,80,79,78,76,78,77,76,75,74,72,74,73,72,71,70,68,70,69,68,67,66,64,66,65,64,63,62,60,62,61,60,59,58,56,58,57,56,55,54,52,54,53,52,51,50,48,50,49,48,47,46,44,46,45,44,43,42,40,42,41,40,39,38,36,38,37,36,35,34,32,34,33,32,31,30,28,30,29,28,27,26,24,26,25,24,23,22,20,22,21,20,19,18,16,18,17,16,15,14,12,14,13,12,11,10,8,10,9,8,7,6,4,6,5,4,3,2,0,2,1,0]);const Ft=[[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5],[-.5,-.5,.5]],xt=Math.PI/180,Tt=[0,1,0],Ct=[0,1,0];let kt=!1,Pt=[0,0,0],St=[0,0,0],It=[0,0,0],Vt=!1,$t=[0,0,0],Xt=[0,0,0],Lt=[0,0,0];const Wt=new WeakMap,zt=new WeakMap,Bt=new Map;let Rt=[0,0,0];const Dt=[0,0,0,1];let Et,Kt=[0,0,0];class Ht extends class{constructor(t=1e4){this.ht=[],this.mn=[],this._n=t}t(){return this.mn.length>0?this.mn.pop():this.ht.push(0)-1}gn(t){this.ht[t]=0,this.mn.push(t)}}{constructor(){super(...arguments),this.un=[],this.N=[],this.Lt=[],this.Z=[],this.q=[],this.zt=[],this.tt=[],this.ut=[],this.Nt=[],this.M=[]}}let Yt=1,Nt=new class extends class extends class{constructor(){this.pn=0,this.yn=0,this.u=window.innerWidth,this.v=window.innerHeight,this.o=!0,this.wn={MouseX:0,MouseY:0},this.Mn={MouseX:0,MouseY:0},this.bn={Mouse:0,Mouse0:0,Mouse1:0,Mouse2:0,Touch0:0,Touch1:0},this.An={},this.Fn=document.querySelector("main"),document.addEventListener("visibilitychange",(()=>document.hidden?this.xn():this.Tn())),this.Fn.addEventListener("contextmenu",(t=>t.preventDefault())),this.Fn.addEventListener("mousedown",(t=>{this.wn["Mouse"+t.button]=1,this.Mn["Mouse"+t.button]=1})),this.Fn.addEventListener("mouseup",(t=>{this.wn["Mouse"+t.button]=0,this.Mn["Mouse"+t.button]=-1})),this.Fn.addEventListener("mousemove",(t=>{this.wn.MouseX=t.clientX,this.wn.MouseY=t.clientY,this.Mn.MouseX=t.movementX,this.Mn.MouseY=t.movementY})),this.Fn.addEventListener("wheel",(t=>{t.preventDefault(),this.Mn.WheelY=t.deltaY})),this.Fn.addEventListener("touchstart",(t=>{t.target===this.Fn&&t.preventDefault(),1===t.touches.length&&(this.An={});for(let n=0;n<t.touches.length;n++)this.An[t.touches[n].identifier]=n;for(let n=0;n<t.changedTouches.length;n++){let i=t.changedTouches[n],e=this.An[i.identifier];this.wn["Touch"+e]=1,this.wn[`Touch${e}X`]=i.clientX,this.wn[`Touch${e}Y`]=i.clientY,this.Mn["Touch"+e]=1,this.Mn[`Touch${e}X`]=0,this.Mn[`Touch${e}Y`]=0}})),this.Fn.addEventListener("touchmove",(t=>{t.target===this.Fn&&t.preventDefault();for(let n=0;n<t.changedTouches.length;n++){let i=t.changedTouches[n],e=this.An[i.identifier];this.Mn[`Touch${e}X`]=i.clientX-this.wn[`Touch${e}X`],this.Mn[`Touch${e}Y`]=i.clientY-this.wn[`Touch${e}Y`],this.wn[`Touch${e}X`]=i.clientX,this.wn[`Touch${e}Y`]=i.clientY}})),this.Fn.addEventListener("touchend",(t=>{t.target===this.Fn&&t.preventDefault();for(let n=0;n<t.changedTouches.length;n++){let i=this.An[t.changedTouches[n].identifier];this.wn["Touch"+i]=0,this.Mn["Touch"+i]=-1}})),this.Fn.addEventListener("touchcancel",(t=>{for(let n=0;n<t.changedTouches.length;n++){let i=this.An[t.changedTouches[n].identifier];this.wn["Touch"+i]=0,this.Mn["Touch"+i]=-1}})),window.addEventListener("keydown",(t=>{t.repeat||(this.wn[t.code]=1,this.Mn[t.code]=1)})),window.addEventListener("keyup",(t=>{this.wn[t.code]=0,this.Mn[t.code]=-1}))}Tn(){let t=0,n=performance.now(),i=e=>{let o=(e-n)/1e3;for(this.Cn(o),t+=o;t>=dt;)t-=dt,this.kn(dt);this.Pn(o),this.Sn(o),n=e,this.pn=requestAnimationFrame(i)};this.xn(),i(n)}xn(){cancelAnimationFrame(this.pn),this.pn=0}Cn(t){this.yn=performance.now();let n=Math.abs(this.Mn.MouseX)+Math.abs(this.Mn.MouseY);this.bn.Mouse+=n,1===this.wn.Mouse0&&(this.bn.Mouse0+=n),1===this.wn.Mouse1&&(this.bn.Mouse1+=n),1===this.wn.Mouse2&&(this.bn.Mouse2+=n),1===this.wn.Touch0&&(this.bn.Touch0+=Math.abs(this.Mn.Touch0X)+Math.abs(this.Mn.Touch0Y)),1===this.wn.Touch1&&(this.bn.Touch1+=Math.abs(this.Mn.Touch1X)+Math.abs(this.Mn.Touch1Y))}kn(t){}Pn(t){}Sn(t){this.o=!1,-1===this.Mn.Mouse0&&(this.bn.Mouse0=0),-1===this.Mn.Mouse1&&(this.bn.Mouse1=0),-1===this.Mn.Mouse2&&(this.bn.Mouse2=0),-1===this.Mn.Touch0&&(this.bn.Touch0=0),-1===this.Mn.Touch1&&(this.bn.Touch1=0);for(let t in this.Mn)this.Mn[t]=0;let n=performance.now()-this.yn;ht&&(ht.textContent=n.toFixed(1)),ut&&(ut.textContent=(1e3*t).toFixed(1)),ft&&(ft.textContent=(1/t).toFixed())}}{constructor(){super(),this.In=document.querySelector("#billboard"),this.Vn=this.In.getContext("2d"),this.$n=document.querySelector("#scene"),this.ot=this.$n.getContext("webgl2"),this.Audio=new AudioContext,this.ot.enable(2929),this.ot.enable(2884),this.ot.blendFunc(770,771)}}{constructor(){super(),this.i=new Ht,this.Xn=!1,this.G={},this.$t=function(t,i=4){let e=n(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec4 attr_position;\n\nvoid main() {\ngl_Position = pv * world * attr_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\nuniform vec4 color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = color;\n}\n");return{on:i,Qt:e,st:{T:t.getUniformLocation(e,"pv"),i:t.getUniformLocation(e,"world"),yt:t.getUniformLocation(e,"color"),lt:t.getAttribLocation(e,"attr_position")}}}(this.ot,2),this.fn=function(t){let i=n(t,"#version 300 es\n\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 specular_color;\nuniform float shininess;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_color;\n\nvoid main() {\nvec4 vert_position = world * attr_position;\nvec3 vert_normal = normalize((vec4(attr_normal, 0.0) * self).xyz);\ngl_Position = pv * vert_position;\n\nvec3 view_dir = eye - vert_position.xyz;\nvec3 view_normal = normalize(view_dir);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(vert_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * diffuse_factor * light_color * light_intensity;\n\nif (shininess > 0.0) {\n\nvec3 h = normalize(light_normal + view_normal);\nfloat specular_angle = max(dot(h, vert_normal), 0.0);\nfloat specular_factor = pow(specular_angle, shininess);\n\n\nlight_acc += specular_color.rgb * specular_factor * light_color * light_intensity;\n}\n}\n}\n\nvert_color = vec4(light_acc, diffuse_color.a);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n");return{on:4,Qt:i,st:{T:t.getUniformLocation(i,"pv"),i:t.getUniformLocation(i,"world"),F:t.getUniformLocation(i,"self"),bt:t.getUniformLocation(i,"diffuse_color"),At:t.getUniformLocation(i,"specular_color"),Ft:t.getUniformLocation(i,"shininess"),Zt:t.getUniformLocation(i,"eye"),Bt:t.getUniformLocation(i,"light_positions"),Rt:t.getUniformLocation(i,"light_details"),tn:t.getUniformLocation(i,"fog_color"),en:t.getUniformLocation(i,"fog_distance"),lt:t.getAttribLocation(i,"attr_position"),Mt:t.getAttribLocation(i,"attr_normal")}}}(this.ot),this.xt=function(t){let i=n(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform vec3 eye;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 attr_position;\nin vec4 attr_column1;\nin vec4 attr_column2;\nin vec4 attr_column3;\nin vec4 attr_column4;\nin vec3 attr_color;\nout vec4 vert_color;\n\nvoid main() {\nmat4 instance = mat4(\nattr_column1,\nattr_column2,\nattr_column3,\nattr_column4\n);\n\nvec4 vert_position = world * instance * attr_position;\ngl_Position = pv * vert_position;\n\nvert_color = vec4(attr_color, 1.0);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n","#version 300 es\n\nprecision mediump float;\nin vec4 vert_color;\nout vec4 frag_color;\nvoid main() {\nfrag_color = vert_color;\n}\n");return{on:4,Qt:i,st:{T:t.getUniformLocation(i,"pv"),i:t.getUniformLocation(i,"world"),Zt:t.getUniformLocation(i,"eye"),tn:t.getUniformLocation(i,"fog_color"),en:t.getUniformLocation(i,"fog_distance"),lt:t.getAttribLocation(i,"attr_position"),Tt:t.getAttribLocation(i,"attr_column1"),Ct:t.getAttribLocation(i,"attr_column2"),kt:t.getAttribLocation(i,"attr_column3"),Pt:t.getAttribLocation(i,"attr_column4"),St:t.getAttribLocation(i,"attr_color")}}}(this.ot),this.Xt=function(t){let n=t.createBuffer();t.bindBuffer(ot,n),t.bufferData(ot,vt,et);let i=t.createBuffer();t.bindBuffer(ot,i),t.bufferData(ot,mt,et);let e=t.createBuffer();t.bindBuffer(ot,e),t.bufferData(ot,_t,et);let o=t.createBuffer();t.bindBuffer(ot,o),t.bufferData(ot,gt,et);let r=t.createBuffer();return t.bindBuffer(rt,r),t.bufferData(rt,pt,et),{rt:n,Ln:vt,wt:i,Wn:mt,zn:e,Bn:_t,Rn:o,Dn:gt,ct:r,En:pt,rn:pt.length}}(this.ot),this.dn=function(t){let n=t.createBuffer();t.bindBuffer(ot,n),t.bufferData(ot,yt,et);let i=t.createBuffer();t.bindBuffer(ot,i),t.bufferData(ot,wt,et);let e=t.createBuffer();t.bindBuffer(ot,e),t.bufferData(ot,Mt,et);let o=t.createBuffer();t.bindBuffer(ot,o),t.bufferData(ot,bt,et);let r=t.createBuffer();return t.bindBuffer(rt,r),t.bufferData(rt,At,et),{rt:n,Ln:yt,wt:i,Wn:wt,zn:e,Bn:Mt,Rn:o,Dn:bt,ct:r,En:At,rn:At.length}}(this.ot),this.Kn=[],this.Bt=new Float32Array(32),this.Rt=new Float32Array(32),this.nn=[1,1,1,1],this.en=50,navigator.xr&&async function(t){await t.ot.makeXRCompatible(),t.Xn=await navigator.xr.isSessionSupported("immersive-vr")}(this)}Tn(){let t=performance.now(),n=(i,e)=>{let o=(i-t)/1e3;t=i,e?(this.k=e,this.pn=this.k.session.requestAnimationFrame(n)):(this.k=void 0,this.pn=requestAnimationFrame(n)),this.Cn(o),this.Pn(o),this.Sn(o)};this.pn=this.Hn?this.Hn.requestAnimationFrame(n):requestAnimationFrame(n)}xn(){this.Hn?this.Hn.cancelAnimationFrame(this.pn):cancelAnimationFrame(this.pn),this.pn=0}Cn(t){if(super.Cn(t),this.k){this.G={};for(let t of this.k.session.inputSources)t.gripSpace&&(this.G[t.handedness]=t)}}Pn(t){!function(t,n){if(t.k)for(let n=0;n<t.i.ht.length;n++)528==(528&t.i.ht[n])&&$(t,n)}(this),function(t,n){if(t.k)for(let n=0;n<t.i.ht.length;n++)528==(528&t.i.ht[n])&&I(t,n)}(this),function(t,n){if(t.k)for(let n=0;n<t.i.ht.length;n++)520==(520&t.i.ht[n])&&V(t,n)}(this),function(t,n){for(let i=0;i<t.i.ht.length;i++)576==(576&t.i.ht[i])&&E(t,i,n)}(this,t),function(t,n){for(let i=0;i<t.i.ht.length;i++)768==(768&t.i.ht[i])&&K(t,i,n)}(this,t),U(this),function(t,n){for(let i=0;i<t.i.ht.length;i++)768==(768&t.i.ht[i])&&H(t,i,n)}(this,t),function(t,n){let i=[],e=[];for(let n=0;n<t.i.ht.length;n++)if(516==(516&t.i.ht[n])){let o=t.i.M[n],r=t.i.Lt[n];r.D=[],r.vn?(r.vn=!1,M(o.i,r)):r.Wt?(M(o.i,r),e.push(r)):i.push(r)}for(let t=0;t<e.length;t++)F(e[t],i,i.length),F(e[t],e,t)}(this),function(t,n){for(let n=0;n<t.i.ht.length;n++)772==(772&t.i.ht[n])&&Y(t,n)}(this),U(this),function(t,n){for(let[n,i]of Bt)512&t.i.ht[i.anchor_entity]&&t.i.M[i.anchor_entity]===i.anchor_transform||(t.i.gn(i.entity),Bt.delete(n));for(let n=0;n<t.i.ht.length;n++)512&t.i.ht[n]&&(4&t.i.ht[n]&&R(t,n),128&t.i.ht[n]||B(t,n))}(this),function(t,n){t.u==window.innerWidth&&t.v==window.innerHeight||(t.o=!0),t.o&&(t.u=t.$n.width=t.In.width=window.innerWidth,t.v=t.$n.height=t.In.height=window.innerHeight)}(this),function(t,n){t.Kn=[];for(let n=0;n<t.i.ht.length;n++)if(513==(513&t.i.ht[n])){let i=t.i.un[n];if(1===i.l&&t.k)return t.Kn.push(n),void w(t,n,i);if(0===i.l&&!t.k)return t.Kn.push(n),void y(t,n,i)}}(this),function(t,n){t.Bt.fill(0),t.Rt.fill(0);let i=0;for(let n=0;n<t.i.ht.length;n++)544==(544&t.i.ht[n])&&D(t,n,i++)}(this),function(t,n){for(let n of t.Kn){let i=t.i.un[n];switch(i.l){case 0:t.ot.bindFramebuffer(36160,null),t.ot.viewport(0,0,t.u,t.v),t.ot.clear(16640),N(t,i);break;case 1:let n=t.k.session.renderState.baseLayer;t.ot.bindFramebuffer(36160,n.framebuffer),t.ot.clear(16640);for(let e of i.S){let i=n.getViewport(e.I);t.ot.viewport(i.x,i.y,i.width,i.height),N(t,e)}}}}(this),function(t,n){let i=function(t){return O` <div>${function(t){return O`
<div
style="
position: absolute;
bottom: 1vmin;
right: 1vmin;
background: #000;
color: #fff;
font: 13px Arial;
"
>
${t.k?O`
<button
onclick="$(${1})"
style="
padding: 1vmin;
background: #000;
color: #fff;
border: none;
"
>
Exit VR
</button>
`:window.isSecureContext?navigator.xr?t.Xn?O`
<button
onclick="$(${0})"
style="
padding: 1vmin;
background: #000;
color: #fff;
border: none;
"
>
Enter VR
</button>
`:'<div style="padding: 1vmin">WebXR headset not found</div>':'<div style="padding: 1vmin">WebXR not supported</div>':'<div style="padding: 1vmin">WebXR requires HTTPS</div>'}
</div>
`}(t)}</div> `}(t);i!==Et&&(t.Fn.innerHTML=Et=i)}(this)}};!function(n){var i;i=Date.now(),Yt=198706*i,n.i=new Ht,n.Kn=[],n.o=!0,n.ot.clearColor(n.nn[0],n.nn[1],n.nn[2],1),t(n,[Q([z(void 0,[0,1,0,0]),(t,n)=>{t.i.ht[n]|=1,t.i.un[n]={l:0,h:{l:0,m:1,_:.1,g:1e3,h:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],p:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},A:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],C:[0,0,0]}}]),z([0,2,0],[0,1,0,0])]),t(n,[...tt(n),z([0,2,0],[0,1,0,0])]),t(n,[z([2,4,3]),it([1,1,1],1)]);let e=new Float32Array(321600),o=new Float32Array(60300),r=0;for(let t=0;t<10;t++)for(let n=0;n<10;n++){let i=10*(t-5+.5),l=10*(n-5+.5),s=new Float32Array(e.buffer,64*r,16);r++,_(s,[0,0,0,1],[i,-1,l],[10,1,10]);let a=new Float32Array(o.buffer,12*r,3);a[0]=J(0,1),a[1]=J(0,1),a[2]=J(0,1)}for(let t=100;t<20100;t++){_(new Float32Array(e.buffer,64*t,16),k([0,0,0,1],J(-90,90),J(-90,90),J(-90,90)),[J(-50,50),0,J(-50,50)],[J(.1,.5),J(.5,5),J(.1,.5)]);let n=new Float32Array(o.buffer,12*t,3);n[0]=J(0,1),n[1]=J(0,1),n[2]=J(0,1)}t(n,[z([0,1,0]),W(n.Xt,e,o)]);for(let i=0;i<50;i++){let i=J(5,10);t(n,[z([J(-50,50),J(i,25),J(-50,50)],k([0,0,0,1],J(-90,90),J(-90,90),J(-90,90)),[i,i,i]),L(n.fn,n.Xt,[J(0,1),J(0,1),J(0,1),1]),nt(!1,1,0)])}}(Nt),Nt.Tn(),window.$=function(t,n,i){switch(n){case 0:t.Xn&&async function(t){let n=await navigator.xr.requestSession("immersive-vr");n.updateRenderState({baseLayer:new XRWebGLLayer(n,t.ot),depthFar:t.en}),t.P=await n.requestReferenceSpace("local"),t.xn(),t.Hn=n,t.Tn(),t.Hn.addEventListener("end",(()=>{t.xn(),t.Hn=void 0,t.P=void 0,t.k=void 0,t.o=!0,t.Tn()}))}(t);break;case 1:t.k&&t.k.session.end()}}.bind(null,Nt),window.game=Nt}();
